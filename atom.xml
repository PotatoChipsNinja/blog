<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>薯片忍者的小站</title>
  
  <subtitle>今天的故事 是明天的回忆</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://pcninja.cn/"/>
  <updated>2019-05-15T01:45:47.714Z</updated>
  <id>https://pcninja.cn/</id>
  
  <author>
    <name>薯片忍者</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>数据结构作业——游戏分组</title>
    <link href="https://pcninja.cn/2019/05/game-grouping/"/>
    <id>https://pcninja.cn/2019/05/game-grouping/</id>
    <published>2019-05-15T01:29:33.000Z</published>
    <updated>2019-05-15T01:45:47.714Z</updated>
    
    <content type="html"><![CDATA[<p><strong>游戏分组</strong><br>时间限制: 1000 ms<br>内存限制: 128 MB</p><p>为了活跃蒜厂的工作气氛，促进彼此间的友谊，蒜头君决定挑个阳光明媚的周末，带领同学们一起玩游戏。一共有 <code>n</code> 位同学要参加，编号为 <code>0</code> 到 <code>n - 1</code>。蒜头君要对这些同学进行分组，而且蒜头君已经知道哪两个同学之间是好友关系。为了让同学们都玩得开心，蒜头君决定最终的分组方案要将所有好友组合都被分在一组。<br>蒜头君现在知道有 <code>m</code> 对好友关系，需要注意的是，有可能一个同学有很多个好友，也有可能一个同学没有好友。为了让游戏更有趣，蒜头君希望最后分出的组数尽可能多。你能帮蒜头君算出来最多可以分成多少组么？<br><a id="more"></a><br><strong>输入格式：</strong><br>第一行输入两个数 <code>n</code> 和 <code>m</code>，1 ≤ <code>n</code>, <code>m</code> ≤ 1000000。<br>接下来输入 <code>m</code> 行，每行输入两个数 <code>a</code> 和 <code>b</code>，表示编号 <code>a</code> 和编号 <code>b</code> 的同学是好友关系，0 ≤ a, b ≤ <code>n</code> - 1。</p><p><strong>输出格式：</strong><br>输出为一行，表示最多可以分成多少组。</p><p><strong>输入样例:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">5 2</span><br><span class="line">0 2</span><br><span class="line">2 3</span><br></pre></td></tr></table></figure></p><p><strong>输出样例:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3</span><br></pre></td></tr></table></figure></p><p><strong>代码</strong><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> *father, *rank;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(father[n] != n)</span><br><span class="line">        father[n] = find(father[n]);</span><br><span class="line">    <span class="keyword">return</span> father[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> roota = find(a), rootb = find(b);</span><br><span class="line">    <span class="keyword">if</span>(roota == rootb)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(rank[roota] &gt; rank[rootb])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> temp = roota;</span><br><span class="line">        roota = rootb;</span><br><span class="line">        rootb = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    father[roota] = rootb;</span><br><span class="line">    rank[rootb] = (rank[roota] + <span class="number">1</span>) &gt; rank[rootb] ? (rank[roota] + <span class="number">1</span>) : rank[rootb];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, m, a, b, num;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">    father = (<span class="keyword">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * n);</span><br><span class="line">    rank = (<span class="keyword">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * n);</span><br><span class="line">    num = n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        father[i] = i;</span><br><span class="line">        rank[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(m--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;a, &amp;b);</span><br><span class="line">        <span class="keyword">if</span>(merge(a, b))</span><br><span class="line">            num--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>, num);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;游戏分组&lt;/strong&gt;&lt;br&gt;时间限制: 1000 ms&lt;br&gt;内存限制: 128 MB&lt;/p&gt;
&lt;p&gt;为了活跃蒜厂的工作气氛，促进彼此间的友谊，蒜头君决定挑个阳光明媚的周末，带领同学们一起玩游戏。一共有 &lt;code&gt;n&lt;/code&gt; 位同学要参加，编号为 &lt;code&gt;0&lt;/code&gt; 到 &lt;code&gt;n - 1&lt;/code&gt;。蒜头君要对这些同学进行分组，而且蒜头君已经知道哪两个同学之间是好友关系。为了让同学们都玩得开心，蒜头君决定最终的分组方案要将所有好友组合都被分在一组。&lt;br&gt;蒜头君现在知道有 &lt;code&gt;m&lt;/code&gt; 对好友关系，需要注意的是，有可能一个同学有很多个好友，也有可能一个同学没有好友。为了让游戏更有趣，蒜头君希望最后分出的组数尽可能多。你能帮蒜头君算出来最多可以分成多少组么？&lt;br&gt;
    
    </summary>
    
      <category term="编程" scheme="https://pcninja.cn/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="编程" scheme="https://pcninja.cn/tags/%E7%BC%96%E7%A8%8B/"/>
    
      <category term="数据结构" scheme="https://pcninja.cn/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
      <category term="算法" scheme="https://pcninja.cn/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="作业" scheme="https://pcninja.cn/tags/%E4%BD%9C%E4%B8%9A/"/>
    
      <category term="大学" scheme="https://pcninja.cn/tags/%E5%A4%A7%E5%AD%A6/"/>
    
      <category term="并查集" scheme="https://pcninja.cn/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/"/>
    
  </entry>
  
  <entry>
    <title>今天，致敬青春</title>
    <link href="https://pcninja.cn/2019/05/tribute-to-youth/"/>
    <id>https://pcninja.cn/2019/05/tribute-to-youth/</id>
    <published>2019-05-04T01:00:06.000Z</published>
    <updated>2019-05-06T07:36:00.200Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>转自 新浪微博 @人民日报</p></blockquote><p>&emsp;&emsp;青春，是一场场考试，是宽大的校服，是同桌的你和上铺的兄弟；更是青春追梦，成长担当，哪怕万人阻挡，也不曾投降的勇气和力量。青春不是年华，而是心境。它属于年轻人，更属于奋斗者。每一个为梦想拼尽全力的人，都有着青春的光芒。今天，五四青年节，追梦吧，青春！<br><a id="more"></a></p><center class="noBr"><br>  <div class="myGroup"><br>    <div class="group-picture"><div class="group-picture-container"><div class="group-picture-row"><div class="group-picture-column" style="width: 33.333333333333336%;"><img src="/2019/05/tribute-to-youth/1.jpg"></div><div class="group-picture-column" style="width: 33.333333333333336%;"><img src="/2019/05/tribute-to-youth/2.jpg"></div><div class="group-picture-column" style="width: 33.333333333333336%;"><img src="/2019/05/tribute-to-youth/3.jpg"></div></div><div class="group-picture-row"><div class="group-picture-column" style="width: 33.333333333333336%;"><img src="/2019/05/tribute-to-youth/4.jpg"></div><div class="group-picture-column" style="width: 33.333333333333336%;"><img src="/2019/05/tribute-to-youth/5.jpg"></div><div class="group-picture-column" style="width: 33.333333333333336%;"><img src="/2019/05/tribute-to-youth/6.jpg"></div></div><div class="group-picture-row"><div class="group-picture-column" style="width: 33.333333333333336%;"><img src="/2019/05/tribute-to-youth/7.jpg"></div><div class="group-picture-column" style="width: 33.333333333333336%;"><img src="/2019/05/tribute-to-youth/8.jpg"></div><div class="group-picture-column" style="width: 33.333333333333336%;"><img src="/2019/05/tribute-to-youth/9.jpg"></div></div></div></div><br>  </div><br></center><style type="text/css">  .noBr {    font-size: 0px;  }  .myGroup {    width: 70%;  }  .myGroup img {    margin-top: 0px !important;    margin-bottom: 0px !important;  }</style>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;转自 新浪微博 @人民日报&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;青春，是一场场考试，是宽大的校服，是同桌的你和上铺的兄弟；更是青春追梦，成长担当，哪怕万人阻挡，也不曾投降的勇气和力量。青春不是年华，而是心境。它属于年轻人，更属于奋斗者。每一个为梦想拼尽全力的人，都有着青春的光芒。今天，五四青年节，追梦吧，青春！&lt;br&gt;
    
    </summary>
    
      <category term="生活" scheme="https://pcninja.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="大学" scheme="https://pcninja.cn/tags/%E5%A4%A7%E5%AD%A6/"/>
    
      <category term="转载" scheme="https://pcninja.cn/tags/%E8%BD%AC%E8%BD%BD/"/>
    
      <category term="青春" scheme="https://pcninja.cn/tags/%E9%9D%92%E6%98%A5/"/>
    
      <category term="五四运动一百周年" scheme="https://pcninja.cn/tags/%E4%BA%94%E5%9B%9B%E8%BF%90%E5%8A%A8%E4%B8%80%E7%99%BE%E5%91%A8%E5%B9%B4/"/>
    
  </entry>
  
  <entry>
    <title>博客装修小记</title>
    <link href="https://pcninja.cn/2019/05/blog-decoration-notes/"/>
    <id>https://pcninja.cn/2019/05/blog-decoration-notes/</id>
    <published>2019-05-02T09:33:01.000Z</published>
    <updated>2019-05-03T03:22:09.855Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;五一小长假，身边的小伙伴大都奔赴各地领略大好河山，朋友圈里的各种照片看得我眼花缭乱。我赋闲在家，做自己喜欢做的事，放松之余也捯饬捯饬自己的小站。<br><a id="more"></a></p><h3 id="小站概况"><a href="#小站概况" class="headerlink" title="小站概况"></a>小站概况</h3><p>自2016年建站以来，先后经历了多次更换托管主机<small>（Hostinger → GitHub Pages → Coding Pages）</small>与域名<small>（potatochipsninja.tk → pcninja.tk → pcninja.cn）</small>，也从动态网站转型成了静态网站<small>（WordPress → Hexo）</small>，可谓风雨飘摇、命途多舛。尽管如此，小站的建设确确实实让我学习了许多前端方面的知识，同时也带给我不小的成就感。</p><h3 id="主要改动"><a href="#主要改动" class="headerlink" title="主要改动"></a>主要改动</h3><p>博客继续采用 Hexo 搭配 Next 主题，风格从原来的 <code>Pisces</code> 更换成了更具现代感的 <code>Gemini</code>，阴影的加入使得页面区块化更加显著。<br>加入了 Valine 评论系统，支持 <code>Markdown</code> 语法，与原有的文章阅读量统计整合在一块，一并存储在 LeanCloud。</p><h3 id="改动一览"><a href="#改动一览" class="headerlink" title="改动一览"></a>改动一览</h3><ul><li>字体：全局字体采用 <code>Noto Serif SC</code>，网站标题字体采用 <code>ZCOOL XiaoWei</code>，均来自 Google 字体库。为了优化访问速度，使用了 CDN（fonts.loli.net）。如果字体没有生效，请清除缓存后刷新网页</li><li>增加背景图片及背景不透明度</li><li>网站标题框及“阅读全文”按钮配色更改</li><li>侧边栏头像改为圆形，鼠标移入有旋转动画效果，点击可跳至主页</li><li>侧边栏社交链接改为仅有图标的简约风格</li><li>侧边栏加入知识共享许可协议 <code>BY-NC-SA</code> 声明图标，取消了文章底部的文字声明</li><li>返回页面顶部按钮由页面右下角移动到侧边栏底部，并显示阅读百分比</li><li>文章阅读量统计与 Valine 评论系统进行合并</li><li>页脚背景样式美化</li><li>页脚跳动的红色爱心（<span style="display: inline-block; margin: 0 5px; animation: iconAnimate 1.33s ease-in-out infinite;"><i class="fa fa-heart" style="color: #ff0000;"></i></span>）改为静止的灰色爱心（<span><i class="fa fa-heart" style="color: #808080;"></i></span>）<del>，期待它的重新跳动</del></li><li>页脚总访客量与总访问量显示风格改为数值居中，图标分列两侧<h3 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h3></li><li>有精力的时候从零写一个 Hexo 主题，尝试用 <code>PHP</code> 等编写动态博客程序（<strong>可能</strong>会是暑假）</li><li>扩充自己的技术栈，积极更新技术类博文</li><li>丰富博客内容，多读书，多记录生活，努力提升自身文学素养</li></ul><div class="image-size-50"><img src="/2019/05/blog-decoration-notes/image.png" title="2019继续加油"></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;五一小长假，身边的小伙伴大都奔赴各地领略大好河山，朋友圈里的各种照片看得我眼花缭乱。我赋闲在家，做自己喜欢做的事，放松之余也捯饬捯饬自己的小站。&lt;br&gt;
    
    </summary>
    
      <category term="网络" scheme="https://pcninja.cn/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
      <category term="日记" scheme="https://pcninja.cn/tags/%E6%97%A5%E8%AE%B0/"/>
    
      <category term="生活" scheme="https://pcninja.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="网络" scheme="https://pcninja.cn/tags/%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>数据结构作业——地铁一日游</title>
    <link href="https://pcninja.cn/2019/04/one-day-metro-tour/"/>
    <id>https://pcninja.cn/2019/04/one-day-metro-tour/</id>
    <published>2019-04-22T08:13:25.000Z</published>
    <updated>2019-05-15T01:46:09.479Z</updated>
    
    <content type="html"><![CDATA[<p><strong>地铁一日游</strong><br>时间限制: 550 ms<br>内存限制: 64 MB<br>代码长度限制: 16 KB</p><p>森森喜欢坐地铁。这个假期，他终于来到了传说中的地铁之城——魔都，打算好好过一把坐地铁的瘾！<br>魔都地铁的计价规则是：起步价 2 元，出发站与到达站的最短距离（即<strong>计费距离</strong>）每 K 公里增加 1 元车费。<br>例如取 <code>K</code> = 10，动安寺站离魔都绿桥站为 40 公里，则车费为 2 + 4 = 6 元。<br>为了获得最大的满足感，森森决定用以下的方式坐地铁：在某一站上车（不妨设为地铁站 <code>A</code>），则对于所有车费相同的到达站，森森只会在计费距离最远的站或线路末端站点出站，然后用森森美图 App 在站点外拍一张认证照，再按同样的方式前往下一个站点。<br>坐着坐着，森森突然好奇起来：在给定出发站的情况下（在出发时森森也会拍一张照），他的整个旅程中能够留下哪些站点的认证照？<br>地铁是铁路运输的一种形式，指在地下运行为主的城市轨道交通系统。一般来说，地铁由若干个站点组成，并有多条不同的线路双向行驶，可类比公交车，当两条或更多条线路经过同一个站点时，可进行<strong>换乘</strong>，更换自己所乘坐的线路。举例来说，魔都 1 号线和 2 号线都经过人民广场站，则乘坐 1 号线到达人民广场时就可以换乘到 2 号线前往 2 号线的各个站点。换乘不需出站（也拍不到认证照），因此森森乘坐地铁时换乘不受限制。<br><a id="more"></a><br><strong>输入格式：</strong><br>输入第一行是三个正整数 <code>N</code>、<code>M</code> 和 <code>K</code>，表示魔都地铁有 <code>N</code> 个车站 (1 ≤ <code>N</code> ≤ 200)，<code>M</code> 条线路 (1 ≤ <code>M</code> ≤ 1500)，最短距离每超过 <code>K</code> 公里 (1 ≤ <code>K</code> ≤ 106)，加 1 元车费。<br>接下来 <code>M</code> 行，每行由以下格式组成：<br>&lt;站点1&gt;&lt;空格&gt;&lt;距离&gt;&lt;空格&gt;&lt;站点2&gt;&lt;空格&gt;&lt;距离&gt;&lt;空格&gt;&lt;站点3&gt; … &lt;站点X-1&gt;&lt;空格&gt;&lt;距离&gt;&lt;空格&gt;&lt;站点X&gt;<br>其中站点是一个 1 到 <code>N</code> 的编号；两个站点编号之间的距离指两个站在该线路上的距离。两站之间距离是一个不大于 10^6 的正整数。一条线路上的站点互不相同。<br><strong>注意：</strong>两个站之间可能有多条直接连接的线路，且距离不一定相等。<br>再接下来有一个正整数 <code>Q</code> (1 ≤ <code>Q</code> ≤ 200)，表示森森尝试从 <code>Q</code> 个站点出发。<br>最后有 <code>Q</code> 行，每行一个正整数 <code>Xi</code>，表示森森尝试从编号为 <code>Xi</code> 的站点出发。</p><p><strong>输出格式：</strong><br>对于森森每个尝试的站点，输出一行若干个整数，表示能够到达的站点编号。站点编号从小到大排序。</p><p><strong>输入样例:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">6 2 6</span><br><span class="line">1 6 2 4 3 1 4</span><br><span class="line">5 6 2 6 6</span><br><span class="line">4</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure></p><p><strong>输出样例:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 2 4 5 6</span><br><span class="line">1 2 3 4 5 6</span><br><span class="line">1 2 4 5 6</span><br><span class="line">1 2 4 5 6</span><br></pre></td></tr></table></figure></p><p><strong>代码</strong><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, m, k, i, j, a;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;n, &amp;m, &amp;k);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Init D</span></span><br><span class="line">    <span class="keyword">int</span> D[n][n];</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; n; ++j)</span><br><span class="line">            D[i][j] = (i == j ? <span class="number">0</span> : <span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Get D</span></span><br><span class="line">    <span class="keyword">int</span> s1, s2, len, terminal[m*<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; m; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;s1);</span><br><span class="line">        s1--;</span><br><span class="line">        terminal[i*<span class="number">2</span>] = s1;</span><br><span class="line">        ch = getchar();</span><br><span class="line">        <span class="keyword">while</span>(ch != <span class="string">'\n'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;len, &amp;s2);</span><br><span class="line">            s2--;</span><br><span class="line">            <span class="keyword">if</span>(D[s1][s2] == <span class="number">-1</span> || D[s1][s2] &gt; len)</span><br><span class="line">            &#123;</span><br><span class="line">                D[s1][s2] = len;</span><br><span class="line">                D[s2][s1] = D[s1][s2];</span><br><span class="line">            &#125;</span><br><span class="line">            s1 = s2;</span><br><span class="line">            ch = getchar();</span><br><span class="line">        &#125;</span><br><span class="line">        terminal[i*<span class="number">2</span> + <span class="number">1</span>] = s1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Floyd</span></span><br><span class="line">    <span class="keyword">for</span>(a = <span class="number">0</span>; a &lt; n; ++a)</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">            <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; n; ++j)</span><br><span class="line">                <span class="keyword">if</span>(D[i][a] != <span class="number">-1</span> &amp;&amp; D[a][j] != <span class="number">-1</span>)</span><br><span class="line">                    <span class="keyword">if</span>(D[i][j] == <span class="number">-1</span> || D[i][a] + D[a][j] &lt; D[i][j])</span><br><span class="line">                        D[i][j] = D[i][a] + D[a][j];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Preprocess</span></span><br><span class="line">    <span class="keyword">int</span> canArr[n][n];</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; n; ++j)</span><br><span class="line">            canArr[i][j] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; m*<span class="number">2</span>; ++j)</span><br><span class="line">            <span class="keyword">if</span>(D[i][terminal[j]] != <span class="number">-1</span>)</span><br><span class="line">                canArr[i][terminal[j]] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; n; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(j != i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(D[i][j] == <span class="number">-1</span>)</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">for</span>(a = <span class="number">0</span>; a &lt; n; ++a)</span><br><span class="line">                    <span class="keyword">if</span>(a != i &amp;&amp; a != j)</span><br><span class="line">                        <span class="keyword">if</span>(D[i][a] != <span class="number">-1</span> &amp;&amp; D[i][a] / k == D[i][j] / k &amp;&amp; D[i][a] &gt; D[i][j])</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">if</span>(a == n)</span><br><span class="line">                    canArr[i][j] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Solve Problem</span></span><br><span class="line">    <span class="keyword">int</span> q, start, arr[n], <span class="built_in">queue</span>[n], head, tail, flag;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;q);</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; q; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; n; ++j)</span><br><span class="line">            arr[j] = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;start);</span><br><span class="line">        arr[--start] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        head = <span class="number">0</span>, tail = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">queue</span>[<span class="number">0</span>] = start;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(head &lt;= tail)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; n; ++j)</span><br><span class="line">                <span class="keyword">if</span>(!arr[j] &amp;&amp; canArr[<span class="built_in">queue</span>[head]][j])</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">queue</span>[++tail] = j;</span><br><span class="line">                    arr[j] = <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            head++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        flag = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; n; ++j)</span><br><span class="line">            <span class="keyword">if</span>(arr[j])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(flag)</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    flag = <span class="number">1</span>;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d"</span>, j+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;地铁一日游&lt;/strong&gt;&lt;br&gt;时间限制: 550 ms&lt;br&gt;内存限制: 64 MB&lt;br&gt;代码长度限制: 16 KB&lt;/p&gt;
&lt;p&gt;森森喜欢坐地铁。这个假期，他终于来到了传说中的地铁之城——魔都，打算好好过一把坐地铁的瘾！&lt;br&gt;魔都地铁的计价规则是：起步价 2 元，出发站与到达站的最短距离（即&lt;strong&gt;计费距离&lt;/strong&gt;）每 K 公里增加 1 元车费。&lt;br&gt;例如取 &lt;code&gt;K&lt;/code&gt; = 10，动安寺站离魔都绿桥站为 40 公里，则车费为 2 + 4 = 6 元。&lt;br&gt;为了获得最大的满足感，森森决定用以下的方式坐地铁：在某一站上车（不妨设为地铁站 &lt;code&gt;A&lt;/code&gt;），则对于所有车费相同的到达站，森森只会在计费距离最远的站或线路末端站点出站，然后用森森美图 App 在站点外拍一张认证照，再按同样的方式前往下一个站点。&lt;br&gt;坐着坐着，森森突然好奇起来：在给定出发站的情况下（在出发时森森也会拍一张照），他的整个旅程中能够留下哪些站点的认证照？&lt;br&gt;地铁是铁路运输的一种形式，指在地下运行为主的城市轨道交通系统。一般来说，地铁由若干个站点组成，并有多条不同的线路双向行驶，可类比公交车，当两条或更多条线路经过同一个站点时，可进行&lt;strong&gt;换乘&lt;/strong&gt;，更换自己所乘坐的线路。举例来说，魔都 1 号线和 2 号线都经过人民广场站，则乘坐 1 号线到达人民广场时就可以换乘到 2 号线前往 2 号线的各个站点。换乘不需出站（也拍不到认证照），因此森森乘坐地铁时换乘不受限制。&lt;br&gt;
    
    </summary>
    
      <category term="编程" scheme="https://pcninja.cn/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="编程" scheme="https://pcninja.cn/tags/%E7%BC%96%E7%A8%8B/"/>
    
      <category term="数据结构" scheme="https://pcninja.cn/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
      <category term="算法" scheme="https://pcninja.cn/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="作业" scheme="https://pcninja.cn/tags/%E4%BD%9C%E4%B8%9A/"/>
    
      <category term="大学" scheme="https://pcninja.cn/tags/%E5%A4%A7%E5%AD%A6/"/>
    
      <category term="Floyd" scheme="https://pcninja.cn/tags/Floyd/"/>
    
  </entry>
  
  <entry>
    <title>数据结构作业——天梯地图</title>
    <link href="https://pcninja.cn/2019/04/high-ladder-map/"/>
    <id>https://pcninja.cn/2019/04/high-ladder-map/</id>
    <published>2019-04-22T07:53:35.000Z</published>
    <updated>2019-05-15T01:46:28.584Z</updated>
    
    <content type="html"><![CDATA[<p><strong>天梯地图</strong><br>时间限制: 300 ms<br>内存限制: 64 MB<br>代码长度限制: 16 KB</p><p>本题要求你实现一个天梯赛专属在线地图，队员输入自己学校所在地和赛场地点后，该地图应该推荐两条路线：一条是最快到达路线；一条是最短距离的路线。题目保证对任意的查询请求，地图上都至少存在一条可达路线。<br><a id="more"></a><br><strong>输入格式：</strong><br>输入在第一行给出两个正整数<code>N</code>（2 ≤ <code>N</code> ≤ 500）和<code>M</code>，分别为地图中所有标记地点的个数和连接地点的道路条数。随后<code>M</code>行，每行按如下格式给出一条道路的信息：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">V1 V2 one-way length time</span><br></pre></td></tr></table></figure></p><p>其中<code>V1</code>和<code>V2</code>是道路的两个端点的编号（从0到<code>N</code>-1）；如果该道路是从<code>V1</code>到<code>V2</code>的单行线，则<code>one-way</code>为1，否则为0；<code>length</code>是道路的长度；<code>time</code>是通过该路所需要的时间。最后给出一对起点和终点的编号。</p><p><strong>输出格式：</strong><br>首先按下列格式输出最快到达的时间<code>T</code>和用节点编号表示的路线：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Time = T: 起点 =&gt; 节点1 =&gt; ... =&gt; 终点</span><br></pre></td></tr></table></figure></p><p>然后在下一行按下列格式输出最短距离<code>D</code>和用节点编号表示的路线：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Distance = D: 起点 =&gt; 节点1 =&gt; ... =&gt; 终点</span><br></pre></td></tr></table></figure></p><p>如果最快到达路线不唯一，则输出几条最快路线中最短的那条，题目保证这条路线是唯一的。而如果最短距离的路线不唯一，则输出途径节点数最少的那条，题目保证这条路线是唯一的。</p><p>如果这两条路线是完全一样的，则按下列格式输出：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Time = T; Distance = D: 起点 =&gt; 节点1 =&gt; ... =&gt; 终点</span><br></pre></td></tr></table></figure></p><p><strong>输入样例1：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">10 15</span><br><span class="line">0 1 0 1 1</span><br><span class="line">8 0 0 1 1</span><br><span class="line">4 8 1 1 1</span><br><span class="line">5 4 0 2 3</span><br><span class="line">5 9 1 1 4</span><br><span class="line">0 6 0 1 1</span><br><span class="line">7 3 1 1 2</span><br><span class="line">8 3 1 1 2</span><br><span class="line">2 5 0 2 2</span><br><span class="line">2 1 1 1 1</span><br><span class="line">1 5 0 1 3</span><br><span class="line">1 4 0 1 1</span><br><span class="line">9 7 1 1 3</span><br><span class="line">3 1 0 2 5</span><br><span class="line">6 3 1 2 1</span><br><span class="line">5 3</span><br></pre></td></tr></table></figure></p><p><strong>输出样例1：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Time = 6: 5 =&gt; 4 =&gt; 8 =&gt; 3</span><br><span class="line">Distance = 3: 5 =&gt; 1 =&gt; 3</span><br></pre></td></tr></table></figure></p><p><strong>输入样例2：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">7 9</span><br><span class="line">0 4 1 1 1</span><br><span class="line">1 6 1 3 1</span><br><span class="line">2 6 1 1 1</span><br><span class="line">2 5 1 2 2</span><br><span class="line">3 0 0 1 1</span><br><span class="line">3 1 1 3 1</span><br><span class="line">3 2 1 2 1</span><br><span class="line">4 5 0 2 2</span><br><span class="line">6 5 1 2 1</span><br><span class="line">3 5</span><br></pre></td></tr></table></figure></p><p><strong>输出样例2：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Time = 3; Distance = 4: 3 =&gt; 2 =&gt; 5</span><br></pre></td></tr></table></figure></p><p><strong>代码</strong><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> Target;</span><br><span class="line">    <span class="keyword">int</span> Length;</span><br><span class="line">    <span class="keyword">int</span> Time;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Edge</span> *<span class="title">NextEdge</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Vertex</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Edge</span> *<span class="title">Head</span>;</span></span><br><span class="line">    <span class="keyword">int</span> Known;</span><br><span class="line">    <span class="keyword">int</span> Dist;</span><br><span class="line">    <span class="keyword">int</span> PathDist;</span><br><span class="line">    <span class="keyword">int</span> Time;</span><br><span class="line">    <span class="keyword">int</span> PathTime;</span><br><span class="line">    <span class="keyword">int</span> VertexNums;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ReadGraph</span><span class="params">(struct Vertex *G, <span class="keyword">int</span> n, <span class="keyword">int</span> m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> begin, target, oneWay, length, time;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Edge</span> *<span class="title">p</span>;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        G[i].Head = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d %d %d %d"</span>, &amp;begin, &amp;target, &amp;oneWay, &amp;length, &amp;time);</span><br><span class="line">        p = G[begin].Head;</span><br><span class="line">        G[begin].Head = (struct Edge *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct Edge));</span><br><span class="line">        G[begin].Head-&gt;Target = target;</span><br><span class="line">        G[begin].Head-&gt;Length = length;</span><br><span class="line">        G[begin].Head-&gt;Time = time;</span><br><span class="line">        G[begin].Head-&gt;NextEdge = p;</span><br><span class="line">        <span class="keyword">if</span>(!oneWay)</span><br><span class="line">        &#123;</span><br><span class="line">            p = G[target].Head;</span><br><span class="line">            G[target].Head = (struct Edge *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct Edge));</span><br><span class="line">            G[target].Head-&gt;Target = begin;</span><br><span class="line">            G[target].Head-&gt;Length = length;</span><br><span class="line">            G[target].Head-&gt;Time = time;</span><br><span class="line">            G[target].Head-&gt;NextEdge = p;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dijkstra</span><span class="params">(struct Vertex *G, <span class="keyword">int</span> n, <span class="keyword">int</span> begin)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> v, vDist, vTime, vNums;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        G[i].Known = <span class="number">0</span>;</span><br><span class="line">        G[i].Dist = G[i].Time = G[i].PathDist = G[i].PathTime = G[i].VertexNums = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    G[begin].Dist = G[begin].Time = G[begin].VertexNums = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        v = vTime = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">            <span class="keyword">if</span>(!G[i].Known &amp;&amp; G[i].Time != <span class="number">-1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(v == <span class="number">-1</span> || G[i].Time &lt; vTime)</span><br><span class="line">                &#123;</span><br><span class="line">                    vTime = G[i].Time;</span><br><span class="line">                    vDist = G[i].Dist;</span><br><span class="line">                    v = i;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(G[i].Time == vTime &amp;&amp; G[i].Dist &lt; vDist)</span><br><span class="line">                &#123;</span><br><span class="line">                    vDist = G[i].Dist;</span><br><span class="line">                    v = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">if</span>(v == <span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        G[v].Known = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(struct Edge *p = G[v].Head; p; p = p-&gt;NextEdge)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!G[p-&gt;Target].Known)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(G[p-&gt;Target].Time == <span class="number">-1</span> || G[v].Time + p-&gt;Time &lt; G[p-&gt;Target].Time)</span><br><span class="line">                &#123;</span><br><span class="line">                    G[p-&gt;Target].Time = G[v].Time + p-&gt;Time;</span><br><span class="line">                    G[p-&gt;Target].Dist = G[v].Dist + p-&gt;Length;</span><br><span class="line">                    G[p-&gt;Target].PathTime = v;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>((G[v].Time + p-&gt;Time == G[p-&gt;Target].Time) &amp;&amp; (G[v].Dist + p-&gt;Length &lt; G[p-&gt;Target].Dist))</span><br><span class="line">                &#123;</span><br><span class="line">                    G[p-&gt;Target].Dist = G[v].Dist + p-&gt;Length;</span><br><span class="line">                    G[p-&gt;Target].PathTime = v;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        G[i].Known = <span class="number">0</span>;</span><br><span class="line">        G[i].Dist = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    G[begin].Dist = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        v = vDist = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">            <span class="keyword">if</span>(!G[i].Known &amp;&amp; G[i].Dist != <span class="number">-1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(v == <span class="number">-1</span> || G[i].Dist &lt; vDist)</span><br><span class="line">                &#123;</span><br><span class="line">                    vDist = G[i].Dist;</span><br><span class="line">                    vNums = G[i].VertexNums;</span><br><span class="line">                    v = i;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(G[i].Dist == vDist &amp;&amp; G[i].VertexNums &lt; vNums)</span><br><span class="line">                &#123;</span><br><span class="line">                    vNums = G[i].VertexNums;</span><br><span class="line">                    v = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">if</span>(v == <span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        G[v].Known = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(struct Edge *p = G[v].Head; p; p = p-&gt;NextEdge)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!G[p-&gt;Target].Known)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(G[p-&gt;Target].Dist == <span class="number">-1</span> || G[v].Dist + p-&gt;Length &lt; G[p-&gt;Target].Dist)</span><br><span class="line">                &#123;</span><br><span class="line">                    G[p-&gt;Target].Dist = G[v].Dist + p-&gt;Length;</span><br><span class="line">                    G[p-&gt;Target].VertexNums = G[v].VertexNums + <span class="number">1</span>;</span><br><span class="line">                    G[p-&gt;Target].PathDist = v;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>((G[v].Dist + p-&gt;Length == G[p-&gt;Target].Dist) &amp;&amp; (G[v].VertexNums + <span class="number">1</span> &lt; G[p-&gt;Target].VertexNums))</span><br><span class="line">                &#123;</span><br><span class="line">                    G[p-&gt;Target].VertexNums = G[v].VertexNums + <span class="number">1</span>;</span><br><span class="line">                    G[p-&gt;Target].PathDist = v;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintPath</span><span class="params">(struct Vertex *G, <span class="keyword">int</span> end, <span class="keyword">int</span> type)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(type)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(G[end].PathDist != <span class="number">-1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            PrintPath(G, G[end].PathDist, <span class="number">1</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">" =&gt; %d"</span>, end);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(G[end].PathTime != <span class="number">-1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            PrintPath(G, G[end].PathTime, <span class="number">0</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">" =&gt; %d"</span>, end);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Output</span><span class="params">(struct Vertex *G, <span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = end;</span><br><span class="line">    <span class="keyword">while</span>(i != begin)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(G[i].PathDist != G[i].PathTime)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        i = G[i].PathDist;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(i == begin)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Time = %d; Distance = %d: %d"</span>, G[end].Time, G[end].Dist, begin);</span><br><span class="line">        PrintPath(G, end, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Time = %d: %d"</span>, G[end].Time, begin);</span><br><span class="line">        PrintPath(G, end, <span class="number">0</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\nDistance = %d: %d"</span>, G[end].Dist, begin);</span><br><span class="line">        PrintPath(G, end, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, m, begin, end;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Vertex</span> <span class="title">G</span>[<span class="title">n</span>];</span></span><br><span class="line">    ReadGraph(G, n, m);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;begin, &amp;end);</span><br><span class="line">    Dijkstra(G, n, begin);</span><br><span class="line">    Output(G, begin, end);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;天梯地图&lt;/strong&gt;&lt;br&gt;时间限制: 300 ms&lt;br&gt;内存限制: 64 MB&lt;br&gt;代码长度限制: 16 KB&lt;/p&gt;
&lt;p&gt;本题要求你实现一个天梯赛专属在线地图，队员输入自己学校所在地和赛场地点后，该地图应该推荐两条路线：一条是最快到达路线；一条是最短距离的路线。题目保证对任意的查询请求，地图上都至少存在一条可达路线。&lt;br&gt;
    
    </summary>
    
      <category term="编程" scheme="https://pcninja.cn/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="编程" scheme="https://pcninja.cn/tags/%E7%BC%96%E7%A8%8B/"/>
    
      <category term="数据结构" scheme="https://pcninja.cn/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
      <category term="算法" scheme="https://pcninja.cn/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="作业" scheme="https://pcninja.cn/tags/%E4%BD%9C%E4%B8%9A/"/>
    
      <category term="大学" scheme="https://pcninja.cn/tags/%E5%A4%A7%E5%AD%A6/"/>
    
      <category term="Dijkstra" scheme="https://pcninja.cn/tags/Dijkstra/"/>
    
  </entry>
  
  <entry>
    <title>有点小累</title>
    <link href="https://pcninja.cn/2019/04/i-am-tired/"/>
    <id>https://pcninja.cn/2019/04/i-am-tired/</id>
    <published>2019-04-17T13:54:13.000Z</published>
    <updated>2019-05-02T12:22:51.356Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;距离上次更新博客已经过去足足五个月了，尽管时常想起自己还有这么个博客，但总会因为种种原因而被搁置。难得今天有兴致记录一下生活，就大概写写这小半年发生的大小事吧。<br><a id="more"></a><br>&emsp;&emsp;一九年初，正当人们沉浸在新年来临的喜悦之际，我遭受到了迄今为止最大的挫折——我丢了我最重要的东西，这是无疑是一次难以承受的挫折。巨大的冲击让我陷入恍惚与错乱，我想用万念俱灰来形容那时的我再合适不过了。就这样，我陷入了无尽的回忆之中，神魂颠倒地挨过了这个寒冬。<br>&emsp;&emsp;大概历经两个多月，我才渐渐恢复意识，开始重新认识自己、认识世界、认识眼前的一草一木。我意识到不应再踯躅，也不需要不停地回忆。我们只要在恰当的时候，回首眺望似水年华，这便是回忆的全部作用。为了最初的理想，也为了另外一个更重要的原因，我踏上了新的征程。<br>&emsp;&emsp;新学期，新的班级，新的同学，一切都不再熟悉。但是没时间让我熟悉这些，因为学业上的压力明显要高过以往。迫不得已，我把更多的时间分给课业。尽管跟别的同学比，我玩的时间绝对算是最多的之一，但是要知道在中学时期我从来没有花过这么多时间在学习上，所以无论是身体还是精神都需要适应适应。我发现，在实验班，需要的不仅是智力，还需要有足够的精力来处理各种报告、集会、比赛以及各种各样的琐事。今天之所以写博客来小小地抱怨一下就是因为光一个电子电路实验报告就占去了我溜溜三个多小时，这让我不太能接受。</p><p><div class="image-size-30"><img src="/2019/04/i-am-tired/image.jpg"></div><br>&emsp;&emsp;但我其实并不是想抱怨什么，只是我有点累了。我相信，此时此刻，把自己的疲倦写下来，就是最好的缓解。<br>&emsp;&emsp;明天，太阳照常升起，我知道那时我会充好能量，开始新的一天。所以现在，就让我结束这篇语无伦次的博文，然后，睡个好觉。<br>&emsp;&emsp;祝我晚安，也祝你晚安。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;距离上次更新博客已经过去足足五个月了，尽管时常想起自己还有这么个博客，但总会因为种种原因而被搁置。难得今天有兴致记录一下生活，就大概写写这小半年发生的大小事吧。&lt;br&gt;
    
    </summary>
    
      <category term="生活" scheme="https://pcninja.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="日记" scheme="https://pcninja.cn/tags/%E6%97%A5%E8%AE%B0/"/>
    
      <category term="生活" scheme="https://pcninja.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="大学" scheme="https://pcninja.cn/tags/%E5%A4%A7%E5%AD%A6/"/>
    
      <category term="随笔" scheme="https://pcninja.cn/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>申请Let&#39;s Encrypt免费SSL证书并在Node.js建立HTTPS服务</title>
    <link href="https://pcninja.cn/2018/11/letsencrypt-certificates-and-https-in-nodejs/"/>
    <id>https://pcninja.cn/2018/11/letsencrypt-certificates-and-https-in-nodejs/</id>
    <published>2018-11-18T01:07:07.000Z</published>
    <updated>2018-11-19T11:43:10.721Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>&emsp;&emsp;为了更安全地传输，我们往往需要建立HTTPS连接。我们可以利用OpenSSL创建自签名的证书，但创建自己的CA机构并不安全也不被各大浏览器承认。目前有不少免费SSL证书提供商，其中最流行的便是Let’s Encrypt（<a href="https://letsencrypt.org/" target="_blank" rel="noopener">官网</a>），下面是关于如何申请Let’s Encrypt免费SSL证书并用Node.js建立一个HTTPS服务器。<br><a id="more"></a></p></blockquote><h2 id="申请Let’s-Encrypt免费SSL证书"><a href="#申请Let’s-Encrypt免费SSL证书" class="headerlink" title="申请Let’s Encrypt免费SSL证书"></a>申请Let’s Encrypt免费SSL证书</h2><p>Let’s Encrypt官方推荐使用<a href="https://certbot.eff.org/" target="_blank" rel="noopener">Certbot</a> ACME客户端。它可以自动执行证书颁发和安装，无需停机且易于使用。</p><ul><li><p>首先安装<code>certbot</code><br>通过SSH连接到你的VPS或云服务器，确保已经安装了Python及Git。本文以CentOS为例，其他发行版大同小异。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> sudo yum install certbot</span><br></pre></td></tr></table></figure></li><li><p>获取证书<br>首先停止你服务器上的服务，保证80端口没有被占用并且你的域名被正确解析到你的服务器，否则在证书获取过程中会出现错误。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> sudo certbot certonly --standalone -d diunar.tk -d www.diunar.tk    #把diunar.tk换成你的域名</span><br></pre></td></tr></table></figure></li></ul><p>当看到“Congratulations”字样时，代表你已经成功申请到Let’s Encrypt的免费SSL证书，证书有效期是90天，后面会讲如何<del>&nbsp;续命&nbsp;</del>延期。<br>证书文件被保存到了<code>/etc/letsencrypt/live/你的域名/</code>，其中的<code>fullchain.pem</code>和<code>privkey.pem</code>是我们接下来需要用到的完整证书链及私钥</p><p><div class="image-size-80"><img src="/2018/11/letsencrypt-certificates-and-https-in-nodejs/obtain_cert.png" title="成功获取证书"></div><br>如果你希望在Nginx或Apache等Web服务器上应用你的SSL请在Certbot的<a href="https://certbot.eff.org/" target="_blank" rel="noopener">官网</a>上查看方法。下面我们用Node.js编写服务器建立HTTPS服务</p><h2 id="通过Node-js建立HTTPS服务"><a href="#通过Node-js建立HTTPS服务" class="headerlink" title="通过Node.js建立HTTPS服务"></a>通过Node.js建立HTTPS服务</h2><ul><li><p>为了方便，我们使用<code>Express</code>框架，因此需要安装<code>Express</code>：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> npm install express</span><br></pre></td></tr></table></figure></li><li><p>创建<code>index.js</code>：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>)</span><br><span class="line"><span class="keyword">const</span> https = <span class="built_in">require</span>(<span class="string">'https'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">80</span>        <span class="comment">//HTTP访问端口号，默认80，可更改为你希望的端口号</span></span><br><span class="line"><span class="keyword">const</span> SSLport = <span class="number">443</span>    <span class="comment">//HTTPS访问端口号，默认443，可更改为你希望的端口号</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">    key: fs.readFileSync(<span class="string">'/etc/letsencrypt/live/diunar.tk/privkey.pem'</span>),     <span class="comment">//异步读取私钥文件</span></span><br><span class="line">    cert: fs.readFileSync(<span class="string">'/etc/letsencrypt/live/diunar.tk/fullchain.pem'</span>),  <span class="comment">//异步读取证书文件</span></span><br><span class="line">    requestCert: <span class="literal">false</span>,        <span class="comment">//是否请求客户端证书</span></span><br><span class="line">    rejectUnauthorized: <span class="literal">false</span>  <span class="comment">//是否拒绝无信任CA颁发的证书的客户端连接请求</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http.createServer(app).listen(port, () =&gt; <span class="built_in">console</span>.log(<span class="string">`HTTP server is listening on port <span class="subst">$&#123;port&#125;</span>`</span>))                   <span class="comment">//创建http服务监听</span></span><br><span class="line">https.createServer(options, app).listen(SSLport, () =&gt; <span class="built_in">console</span>.log(<span class="string">`HTTPS server is listening on port <span class="subst">$&#123;SSLport&#125;</span>`</span>))  <span class="comment">//创建https服务监听</span></span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (req.protocol == <span class="string">'https'</span>) &#123;</span><br><span class="line">        res.send(<span class="string">"This is HTTPS Server"</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        res.send(<span class="string">"This is HTTP Server"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><p>如果不需要HTTP服务可以删除<code>http.createServer(app)</code>，只保留HTTPS服务</p><ul><li>运行Node.js服务<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> node index.js</span><br><span class="line">HTTP server is listening on port 80</span><br><span class="line">HTTPS server is listening on port 443</span><br></pre></td></tr></table></figure></li></ul><p>在浏览器分别通过<code>http://</code>和<code>https://</code>协议访问你的域名，看看有什么区别：</p><p><div class="image-size-30"><img src="/2018/11/letsencrypt-certificates-and-https-in-nodejs/http_server.png" title="通过HTTP访问"></div></p><p><div class="image-size-30"><img src="/2018/11/letsencrypt-certificates-and-https-in-nodejs/https_server.png" title="通过HTTPS访问"></div><br>通过浏览器可以看到我们与服务器建立的是密文传输连接：</p><p><div class="image-size-50"><img src="/2018/11/letsencrypt-certificates-and-https-in-nodejs/safe_connection.png" title="安全的连接"></div></p><p><div class="image-size-50"><img src="/2018/11/letsencrypt-certificates-and-https-in-nodejs/cert_info.png" title="证书信息"></div><br>大功告成之后，别忘了每隔90天通过<code>certbot renew</code>命令进行证书的续订。你也可以设置自动续订，具体方法请见Certbot<a href="https://certbot.eff.org/" target="_blank" rel="noopener">官网</a>。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;为了更安全地传输，我们往往需要建立HTTPS连接。我们可以利用OpenSSL创建自签名的证书，但创建自己的CA机构并不安全也不被各大浏览器承认。目前有不少免费SSL证书提供商，其中最流行的便是Let’s Encrypt（&lt;a href=&quot;https://letsencrypt.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;官网&lt;/a&gt;），下面是关于如何申请Let’s Encrypt免费SSL证书并用Node.js建立一个HTTPS服务器。&lt;br&gt;
    
    </summary>
    
      <category term="网络" scheme="https://pcninja.cn/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
      <category term="编程" scheme="https://pcninja.cn/tags/%E7%BC%96%E7%A8%8B/"/>
    
      <category term="网络" scheme="https://pcninja.cn/tags/%E7%BD%91%E7%BB%9C/"/>
    
      <category term="SSL" scheme="https://pcninja.cn/tags/SSL/"/>
    
      <category term="HTTPS" scheme="https://pcninja.cn/tags/HTTPS/"/>
    
      <category term="Node.js" scheme="https://pcninja.cn/tags/Node-js/"/>
    
      <category term="Express" scheme="https://pcninja.cn/tags/Express/"/>
    
  </entry>
  
  <entry>
    <title>Express+MongoDB后端与微信小程序前端建构最小端到端系统</title>
    <link href="https://pcninja.cn/2018/10/minimum-end-to-end-system/"/>
    <id>https://pcninja.cn/2018/10/minimum-end-to-end-system/</id>
    <published>2018-10-04T02:25:56.000Z</published>
    <updated>2018-10-04T09:00:24.344Z</updated>
    
    <content type="html"><![CDATA[<h2 id="服务端搭建"><a href="#服务端搭建" class="headerlink" title="服务端搭建"></a>服务端搭建</h2><hr><h3 id="一、环境准备"><a href="#一、环境准备" class="headerlink" title="一、环境准备"></a>一、环境准备</h3><h4 id="1-操作系统与网络"><a href="#1-操作系统与网络" class="headerlink" title="1.操作系统与网络"></a>1.操作系统与网络</h4><p>本文以<a href="https://www.archlinux.org/" target="_blank" rel="noopener">Arch Linux</a>为例，在<a href="https://www.virtualbox.org/" target="_blank" rel="noopener">VirtualBox</a>虚拟机下运行，通过SSH与宿主机连接。<br>由于虚拟机通过NAT联网，要想访问在虚拟机中部署的Web服务需要进行端口转发：</p><ul><li>打开<strong>VirtualBox管理器</strong>，进入Arch虚拟机的<strong>设置</strong>页，在<strong>网络</strong>选项卡中点击<strong>高级</strong><div class="image-size-50"><img src="/2018/10/minimum-end-to-end-system/VM_setting.png" title="虚拟机网络设置"></div></li><li>点击<strong>端口转发</strong>，我们新建一个端口转发规则。协议为<code>TCP</code>；主机IP填写VirtualBox虚拟网卡的地址，在Windows宿主机通过<code>ipconfig</code>命令可查看，默认为<code>192.168.56.1</code>；子系统IP填写虚拟机IPv4地址，在Arch虚拟机中通过<code>ip addr</code>命令可查看（图中红框所示处）；子系统端口为我们即将部署的Node服务的监听端口；主机端口为转发到主机后的端口，我们应该避开常用或已被占用的端口（如21、22、25、80、443），为了方便我们可以转发到原端口，本文以3000端口为例<div class="image-size-80"><img src="/2018/10/minimum-end-to-end-system/VM_ip.png" title="Arch查看IP"></div><br><div class="image-size-50"><img src="/2018/10/minimum-end-to-end-system/port_forwarding.png" title="端口转发"></div></li><li>这样设置完毕后虚拟机的3000端口就可以通过<code>192.168.56.1:3000</code>访问了<a id="more"></a><h4 id="2-Node-js"><a href="#2-Node-js" class="headerlink" title="2.Node.js"></a>2.Node.js</h4>由于该虚拟机此前已安装Node.js、MongoDB等，首先将其卸载再做演示：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> pacman -Rsc nodejs mongodb  #删除Node.js、MongoDB和所有依赖这两个软件包的程序</span><br></pre></td></tr></table></figure></li></ul><p>更多关于<code>pacman</code>（Arch官方软件包管理器）的用法请见<a href="https://wiki.archlinux.org/index.php/Pacman_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener">这里</a><br>通过<code>pacman</code>安装Node.js：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> pacman -S nodejs npm  #安装node及包管理器npm</span><br></pre></td></tr></table></figure></p><p>或者从<a href="https://nodejs.org/zh-cn/download/" target="_blank" rel="noopener">Node.js官网</a>下载二进制文件：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> wget https://nodejs.org/dist/v8.12.0/node-v8.12.0-linux-x64.tar.xz</span><br><span class="line"><span class="meta">$</span> xz -d node-v8.12.0-linux-x64.tar.xz</span><br><span class="line"><span class="meta">$</span> tar -xvf node-v8.12.0-linux-x64.tar</span><br></pre></td></tr></table></figure></p><h4 id="3-MongoDB"><a href="#3-MongoDB" class="headerlink" title="3.MongoDB"></a>3.MongoDB</h4><ul><li>方法一：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> pacman -S mongodb  #从官方软件仓库安装mongodb</span><br><span class="line"><span class="meta">$</span> systemctl start mongodb.service  #启动mongodb服务</span><br><span class="line"><span class="meta">$</span> systemctl enable mongodb.service  #设置开机启动服务</span><br></pre></td></tr></table></figure><p>Arch Linux的默认dbpath是/var/lib/mongodb/，启动服务后可以通过<code>mongo</code>命令进入Mongo Shell</p><ul><li>方法二：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> cd /home</span><br><span class="line"><span class="meta">$</span> wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-4.0.2.tgz  #从官网下载二进制包</span><br><span class="line"><span class="meta">$</span> tar -xzvf mongodb-linux-x86_64-4.0.2.tgz</span><br></pre></td></tr></table></figure><p>为了快速使用<code>mongodb</code>命令，可以配置环境变量。编辑<code>~/.profile</code>或<code>/etc/profile</code>文件，将<code>mongodb/bin</code>路径加入即可：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> sudo vim /etc/profile</span><br></pre></td></tr></table></figure></p><p>在文件末尾添加一行：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/home/mongodb-linux-x86_64-4.0.2/bin</span><br></pre></td></tr></table></figure></p><p>保存修改后，在终端运行以下命令使环境变量生效：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">source</span> /etc/profile</span></span><br></pre></td></tr></table></figure></p><p>启动<code>mongod</code>：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir /data/db  <span class="comment">#创建数据存放目录</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mongod --dbpath /data/db</span></span><br></pre></td></tr></table></figure></p><p>此时<code>mongod</code>已经启动，我们可以在另一终端中通过<code>mongo</code>命令进入交互程序</p><h3 id="二、部署服务"><a href="#二、部署服务" class="headerlink" title="二、部署服务"></a>二、部署服务</h3><h4 id="1-建立应用并安装依赖"><a href="#1-建立应用并安装依赖" class="headerlink" title="1.建立应用并安装依赖"></a>1.建立应用并安装依赖</h4><p>首先建立一个工作目录：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir wx</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> wx</span></span><br></pre></td></tr></table></figure></p><p>通过<code>npm init</code>初始化一个应用，此时会要求你输入应用的名称、版本、入口文件等信息，可以按<code>Enter</code>键选择默认值，最终<code>npm</code>会为你生成一个<code>package.json</code>文件<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm init</span></span><br></pre></td></tr></table></figure></p><p>下面通过Node包管理器安装Express、Mongoose：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install express mongoose --save</span></span><br></pre></td></tr></table></figure></p><p>安装成功后会出现<code>+ express</code>、<code>+ mongoose</code>等字样，这两个包及其所需依赖都被安装在<code>/node_modules</code>中并被写入<code>package.json</code>：</p><p><div class="image-size-80"><img src="/2018/10/minimum-end-to-end-system/npm_install.png" title="安装Express、Mongoose"></div><br>除了上述方法，我们也可以通过全局安装来达到一劳永逸的目的：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install express mongoose -g</span></span><br></pre></td></tr></table></figure></p><h4 id="2-建立HWMongo模块"><a href="#2-建立HWMongo模块" class="headerlink" title="2.建立HWMongo模块"></a>2.建立HWMongo模块</h4><p>编辑<code>hwmongo.js</code>：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim hwMongo.js</span><br></pre></td></tr></table></figure></p><p>将数据库连接与定义Schema部分写进<code>hwMongo.js</code>，以便后续调用：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//hwmongo.js</span></span><br><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>);</span><br><span class="line">mongoose.connect(<span class="string">'mongodb://localhost/test'</span>);  <span class="comment">//与数据库建立连接</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> helloWorldSchema = mongoose.Schema(&#123;</span><br><span class="line">    country: <span class="built_in">String</span>,</span><br><span class="line">    helloWorld: <span class="built_in">String</span>,</span><br><span class="line">&#125;);  <span class="comment">//定义数据架构helloWorldSchema</span></span><br><span class="line"><span class="keyword">var</span> HWMongo = mongoose.model(<span class="string">'HWs'</span>, helloWorldSchema);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = HWMongo;  <span class="comment">//导出HWMongo</span></span><br></pre></td></tr></table></figure></p><h4 id="3-初始化数据"><a href="#3-初始化数据" class="headerlink" title="3.初始化数据"></a>3.初始化数据</h4><p>编辑<code>initData.js</code>：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim initData.js</span><br></pre></td></tr></table></figure></p><p>将初始数据插入文档：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> HWMongo = <span class="built_in">require</span>(<span class="string">'./hwMongo'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> HWMongo(&#123;</span><br><span class="line">    country: <span class="string">'China'</span>,</span><br><span class="line">    helloWorld: <span class="string">'你好，世界!'</span></span><br><span class="line">&#125;).save();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> HWMongo(&#123;</span><br><span class="line">    country: <span class="string">'US'</span>,</span><br><span class="line">    helloWorld: <span class="string">'Hello World!'</span></span><br><span class="line">&#125;).save();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> HWMongo(&#123;</span><br><span class="line">    country: <span class="string">'Danmark'</span>,</span><br><span class="line">    helloWorld: <span class="string">'Hallo, Verden!'</span></span><br><span class="line">&#125;).save();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> HWMongo(&#123;</span><br><span class="line">    country: <span class="string">'Germany'</span>,</span><br><span class="line">    helloWorld: <span class="string">'Hallo, Welt!'</span></span><br><span class="line">&#125;).save();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> HWMongo(&#123;</span><br><span class="line">    country: <span class="string">'France'</span>,</span><br><span class="line">    helloWorld: <span class="string">'Bonjour, tout le monde'</span></span><br><span class="line">&#125;).save();</span><br></pre></td></tr></table></figure></p><p>运行程序：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node initData.js</span><br></pre></td></tr></table></figure></p><p>如果出现“当前URL解析器被弃用”的警告，我们可以修改<code>hwMongo.js</code>的数据库连接部分（第3行），使用新的解析器：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongoose.connect(<span class="string">'mongodb://localhost/test'</span>, &#123;<span class="attr">useNewUrlParser</span>: <span class="literal">true</span>&#125;);  <span class="comment">//Line 3</span></span><br></pre></td></tr></table></figure></p><p>数据初始化完成之后我们可以通过<code>mongo</code>进入Mongo Shell，在交互程序中通过<code>use wx</code>切换至数据库“wx”，通过<code>show collections</code>可以列出数据库中的全部集合，通过<code>db.hws.find()</code>可以进行查询：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt; use wx</span><br><span class="line">switched to db wx</span><br><span class="line">&gt; show collections</span><br><span class="line">hws</span><br><span class="line">&gt; db.hws.find()</span><br><span class="line">&#123; &quot;_id&quot; : ObjectId(&quot;5bb597c822106c03e8e75b72&quot;), &quot;country&quot; : &quot;US&quot;, &quot;helloWorld&quot; : &quot;Hello World!&quot;, &quot;__v&quot; : 0 &#125;</span><br><span class="line">&#123; &quot;_id&quot; : ObjectId(&quot;5bb597c822106c03e8e75b73&quot;), &quot;country&quot; : &quot;Danmark&quot;, &quot;helloWorld&quot; : &quot;Hallo, Verden!&quot;, &quot;__v&quot; : 0 &#125;</span><br><span class="line">&#123; &quot;_id&quot; : ObjectId(&quot;5bb597c822106c03e8e75b74&quot;), &quot;country&quot; : &quot;Germany&quot;, &quot;helloWorld&quot; : &quot;Hallo, Welt!&quot;, &quot;__v&quot; : 0 &#125;</span><br><span class="line">&#123; &quot;_id&quot; : ObjectId(&quot;5bb597c822106c03e8e75b75&quot;), &quot;country&quot; : &quot;France&quot;, &quot;helloWorld&quot; : &quot;Bonjour, tout le monde&quot;, &quot;__v&quot; : 0 &#125;</span><br><span class="line">&#123; &quot;_id&quot; : ObjectId(&quot;5bb597c822106c03e8e75b71&quot;), &quot;country&quot; : &quot;China&quot;, &quot;helloWorld&quot; : &quot;你好，世界!&quot;, &quot;__v&quot; : 0 &#125;</span><br></pre></td></tr></table></figure></p><h4 id="4-建立HTTP服务器"><a href="#4-建立HTTP服务器" class="headerlink" title="4.建立HTTP服务器"></a>4.建立HTTP服务器</h4><p>编辑入口文件<code>index.js</code>：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim index.js</span><br></pre></td></tr></table></figure></p><p>在<code>index.js</code>中编写简易HTTP服务器与查询服务：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">const</span> HWMongo = <span class="built_in">require</span>(<span class="string">'./hwMongo.js'</span>);  <span class="comment">//调用模块</span></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">3000</span>;  <span class="comment">//http服务器端口号</span></span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/country'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>) </span>&#123;</span><br><span class="line">    HWMongo.findOne(&#123;<span class="string">'country'</span>: req.query.country&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, doc</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"数据库出错"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (doc==<span class="literal">null</span>) &#123;</span><br><span class="line">            res.send(<span class="string">"输入信息有误，请重试"</span>);</span><br><span class="line">            <span class="built_in">console</span>.log(req.query.country + <span class="string">":"</span> + doc);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res.send(doc.helloWorld);  <span class="comment">//应答报文</span></span><br><span class="line">            <span class="built_in">console</span>.log(req.query.country + <span class="string">":"</span> +doc.helloWorld);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(port, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Server is running at http://localhost:3000/.'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>HTTP服务器跑起来后宿主机所在局域网内的设备可以通过<code>http://192.168.56.1:3000</code>来访问：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node index.js</span><br></pre></td></tr></table></figure></p><p><div class="image-size-80"><img src="/2018/10/minimum-end-to-end-system/http_server.png" title="访问服务器"></div><br>至此，服务端已搭建完成<br><br><br></p><h2 id="前端小程序实现"><a href="#前端小程序实现" class="headerlink" title="前端小程序实现"></a>前端小程序实现</h2><hr><h3 id="一、开发工具"><a href="#一、开发工具" class="headerlink" title="一、开发工具"></a>一、开发工具</h3><p>在<a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html" target="_blank" rel="noopener">这里</a>下载并安装微信web开发者工具</p><h3 id="二、项目与项目配置文件"><a href="#二、项目与项目配置文件" class="headerlink" title="二、项目与项目配置文件"></a>二、项目与项目配置文件</h3><p>新建一个空白项目，编辑项目配置文件<code>project.config.json</code>，为了调试方便，我们将<code>urlCheck</code>一项改为<code>false</code>:<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    "setting": &#123;</span><br><span class="line">        "urlCheck": false,</span><br><span class="line">        ...</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>更多关于项目配置文件的描述请见<a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html" target="_blank" rel="noopener">这里</a></p><h3 id="三、文件结构"><a href="#三、文件结构" class="headerlink" title="三、文件结构"></a>三、文件结构</h3><p>从微信小程序<a href="https://developers.weixin.qq.com/miniprogram/dev/" target="_blank" rel="noopener">官方文档</a>中我们可以知道小程序的文件组成结构，具体内容如下</p><p>小程序主体部分（项目根目录下）：</p><table><thead><tr><th>文件</th><th>必需</th><th>作用</th></tr></thead><tbody><tr><td>app.js</td><td>是</td><td>小程序逻辑</td></tr><tr><td>app.json</td><td>是</td><td>小程序公共配置</td></tr><tr><td>app.wxss</td><td>否</td><td>小程序公共样式表</td></tr></tbody></table><p>小程序页面：</p><table><thead><tr><th>文件类型</th><th>必需</th><th>作用</th></tr></thead><tbody><tr><td>js</td><td>是</td><td>页面逻辑</td></tr><tr><td>wxml</td><td>是</td><td>页面结构</td></tr><tr><td>json</td><td>否</td><td>页面配置</td></tr><tr><td>wxss</td><td>否</td><td>页面样式表</td></tr></tbody></table><p>因此我们在项目目录中新建<code>app.js</code>和<code>app.json</code>，并编辑<code>app.json</code>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"pages"</span>: [</span><br><span class="line">    <span class="string">"pages/index/index"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>此时开发工具会自动建立<code>pages/index</code>目录及其页面组成文件，至此只包含一个页面的最小项目的框架搭建完成，其文件结构如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── app.js</span><br><span class="line">├── app.json</span><br><span class="line">├── pages</span><br><span class="line">│   └── index</span><br><span class="line">│       ├── index.js</span><br><span class="line">│       └── index.wxml</span><br><span class="line">└── project.config.json</span><br></pre></td></tr></table></figure></p><h3 id="四、页面逻辑及生命周期"><a href="#四、页面逻辑及生命周期" class="headerlink" title="四、页面逻辑及生命周期"></a>四、页面逻辑及生命周期</h3><p>每个页面的JS文件中通过<code>Page(Object)</code>函数来注册页面，它接受一个<code>对象</code>类型参数，指定页面的初始数据、生命周期回调、事件处理函数等。<br>我在此列举几个主要、常用的<code>对象</code>参数（详见<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html" target="_blank" rel="noopener">这里</a>）：</p><table><thead><tr><th>属性</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>data</td><td>对象</td><td>页面第一次渲染使用的初始数据，<code>JSON</code>类型</td></tr><tr><td>onLoad</td><td>函数</td><td>页面加载时触发，一个页面只会调用一次</td></tr><tr><td>onShow</td><td>函数</td><td>页面显示/切入前台时触发</td></tr><tr><td>onReady</td><td>函数</td><td>页面初次渲染完成时触发，一个页面只会调用一次</td></tr><tr><td>onHide</td><td>函数</td><td>页面隐藏/切入后台时触发</td></tr><tr><td>其他</td><td>任意</td><td>开发者添加任意函数或数据</td></tr></tbody></table><p>其中所有<code>函数</code>类型的参数均为生命周期回调函数<br>我们编辑<code>pages/index</code>的页面逻辑文件<code>index.js</code>：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">    <span class="comment">//页面的初始数据</span></span><br><span class="line">    data: &#123;</span><br><span class="line">        hidden: <span class="literal">true</span>,</span><br><span class="line">        data_from_mongodb: <span class="string">""</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">//开发者自定义函数</span></span><br><span class="line">    query: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> index = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">5</span>)  <span class="comment">//产生0-4的随机数</span></span><br><span class="line">        <span class="keyword">var</span> wxcountry = <span class="string">""</span></span><br><span class="line">        <span class="keyword">if</span> (index == <span class="number">0</span>) &#123;</span><br><span class="line">            wxcountry = <span class="string">"China"</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (index == <span class="number">1</span>) &#123;</span><br><span class="line">            wxcountry = <span class="string">"US"</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (index == <span class="number">2</span>) &#123;</span><br><span class="line">            wxcountry = <span class="string">"Danmark"</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (index == <span class="number">3</span>) &#123;</span><br><span class="line">            wxcountry = <span class="string">"Germany"</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (index == <span class="number">4</span>) &#123;</span><br><span class="line">            wxcountry = <span class="string">"France"</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> that = <span class="keyword">this</span></span><br><span class="line">        wx.request(&#123;</span><br><span class="line">            url: <span class="string">"http://192.168.56.1:3000/country"</span>,</span><br><span class="line">            data: &#123;</span><br><span class="line">                country: wxcountry</span><br><span class="line">            &#125;,</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">                that.setData(&#123;</span><br><span class="line">                    hidden: <span class="literal">false</span>,</span><br><span class="line">                    data_from_mongodb: wxcountry + <span class="string">" : "</span> + res.data</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;)  <span class="comment">//从后端请求数据</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>由于微信小程序支持<code>ECMAScript 6</code>（<code>ES6</code>）标准，因此JS代码可以省略语句末的分号<code>;</code>，并且微信官方所有示例程序均采用省略，因此我们也应该遵循微信小程序的编码规范，语句末省略分号<code>;</code></p><h3 id="五、编译与运行"><a href="#五、编译与运行" class="headerlink" title="五、编译与运行"></a>五、编译与运行</h3><p>点击开发者工具<strong>工具栏</strong>中的<strong>编译</strong>按钮，即可在左侧的<strong>模拟器</strong>中看到运行效果：</p><p><div class="image-size-30"><img src="/2018/10/minimum-end-to-end-system/simulator.png" title="模拟器中的运行效果"></div><br>至此，前端部分建构完成<br><br><br></p><h2 id="将服务部署至VPS-云服务器"><a href="#将服务部署至VPS-云服务器" class="headerlink" title="将服务部署至VPS/云服务器"></a>将服务部署至VPS/云服务器</h2><hr><p>我们可以把我们建构好的服务部署至服务器以实现公网访问，我将该Node+Express+MongoDB组成的服务端部署在<a href="https://www.vultr.com/" target="_blank" rel="noopener">Vultr</a>的VPS上（新加坡机房，用来搭梯子的），由于操作系统是CentOS，在部署过程中部分操作略有不同，在此不再赘述。<br>部署后将微信小程序中<code>pages/index/index.js</code>的查询函数中的URL修改为VPS/云服务器的公网IP:端口号，实现了全网访问服务：</p><p><div class="image-size-30"><img src="/2018/10/minimum-end-to-end-system/phone.png" title="手机中的运行效果"></div><br>至此，最小端到端系统实验完成<br><br><br></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><hr><p>本实验使我巩固了Node.js、MongoDB、Linux运维、网络原理等多方面知识，并对微信小程序的开发有了一定了解，增强了我对新事物的探索能力。我将在继续深入钻研既学技术的同时努力接触新技术，让自己的技术栈更加充实</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;服务端搭建&quot;&gt;&lt;a href=&quot;#服务端搭建&quot; class=&quot;headerlink&quot; title=&quot;服务端搭建&quot;&gt;&lt;/a&gt;服务端搭建&lt;/h2&gt;&lt;hr&gt;
&lt;h3 id=&quot;一、环境准备&quot;&gt;&lt;a href=&quot;#一、环境准备&quot; class=&quot;headerlink&quot; title=&quot;一、环境准备&quot;&gt;&lt;/a&gt;一、环境准备&lt;/h3&gt;&lt;h4 id=&quot;1-操作系统与网络&quot;&gt;&lt;a href=&quot;#1-操作系统与网络&quot; class=&quot;headerlink&quot; title=&quot;1.操作系统与网络&quot;&gt;&lt;/a&gt;1.操作系统与网络&lt;/h4&gt;&lt;p&gt;本文以&lt;a href=&quot;https://www.archlinux.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Arch Linux&lt;/a&gt;为例，在&lt;a href=&quot;https://www.virtualbox.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;VirtualBox&lt;/a&gt;虚拟机下运行，通过SSH与宿主机连接。&lt;br&gt;由于虚拟机通过NAT联网，要想访问在虚拟机中部署的Web服务需要进行端口转发：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;打开&lt;strong&gt;VirtualBox管理器&lt;/strong&gt;，进入Arch虚拟机的&lt;strong&gt;设置&lt;/strong&gt;页，在&lt;strong&gt;网络&lt;/strong&gt;选项卡中点击&lt;strong&gt;高级&lt;/strong&gt;&lt;div class=&quot;image-size-50&quot;&gt;&lt;img src=&quot;/2018/10/minimum-end-to-end-system/VM_setting.png&quot; title=&quot;虚拟机网络设置&quot;&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;点击&lt;strong&gt;端口转发&lt;/strong&gt;，我们新建一个端口转发规则。协议为&lt;code&gt;TCP&lt;/code&gt;；主机IP填写VirtualBox虚拟网卡的地址，在Windows宿主机通过&lt;code&gt;ipconfig&lt;/code&gt;命令可查看，默认为&lt;code&gt;192.168.56.1&lt;/code&gt;；子系统IP填写虚拟机IPv4地址，在Arch虚拟机中通过&lt;code&gt;ip addr&lt;/code&gt;命令可查看（图中红框所示处）；子系统端口为我们即将部署的Node服务的监听端口；主机端口为转发到主机后的端口，我们应该避开常用或已被占用的端口（如21、22、25、80、443），为了方便我们可以转发到原端口，本文以3000端口为例&lt;div class=&quot;image-size-80&quot;&gt;&lt;img src=&quot;/2018/10/minimum-end-to-end-system/VM_ip.png&quot; title=&quot;Arch查看IP&quot;&gt;&lt;/div&gt;&lt;br&gt;&lt;div class=&quot;image-size-50&quot;&gt;&lt;img src=&quot;/2018/10/minimum-end-to-end-system/port_forwarding.png&quot; title=&quot;端口转发&quot;&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;这样设置完毕后虚拟机的3000端口就可以通过&lt;code&gt;192.168.56.1:3000&lt;/code&gt;访问了
    
    </summary>
    
      <category term="编程" scheme="https://pcninja.cn/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="Linux" scheme="https://pcninja.cn/tags/Linux/"/>
    
      <category term="编程" scheme="https://pcninja.cn/tags/%E7%BC%96%E7%A8%8B/"/>
    
      <category term="网络" scheme="https://pcninja.cn/tags/%E7%BD%91%E7%BB%9C/"/>
    
      <category term="Node.js" scheme="https://pcninja.cn/tags/Node-js/"/>
    
      <category term="Express" scheme="https://pcninja.cn/tags/Express/"/>
    
      <category term="MongoDB" scheme="https://pcninja.cn/tags/MongoDB/"/>
    
  </entry>
  
  <entry>
    <title>通过JavaScript实现网页自动刷新</title>
    <link href="https://pcninja.cn/2018/10/web-page-auto-refresh-by-JavaScript/"/>
    <id>https://pcninja.cn/2018/10/web-page-auto-refresh-by-JavaScript/</id>
    <published>2018-10-02T09:24:08.000Z</published>
    <updated>2018-10-04T12:55:21.689Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;很多时候我们需要让网页不断刷新来达到持续监视或刷访问次数等目的，我们可以通过简单的JS脚本来实现网页自动刷新的操作。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> timeout = prompt(<span class="string">"设置刷新时间间隔[S]"</span>);</span><br><span class="line"><span class="keyword">var</span> current = location.href;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reload</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    setTimeout(<span class="string">'reload()'</span>, <span class="number">1000</span> * timeout);</span><br><span class="line">    <span class="keyword">var</span> myFrame = <span class="string">"&lt;frameset cols=\'*\'&gt;&lt;frame src=\'"</span> + current + <span class="string">"\' /&gt;&lt;/frameset&gt;"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> (<span class="built_in">document</span>) &#123;</span><br><span class="line">        write(myFrame);</span><br><span class="line">        <span class="keyword">void</span>(close());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (timeout &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    setTimeout(<span class="string">'reload()'</span>, <span class="number">1000</span> * timeout);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    location.replace(current);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>我们可以打开浏览器提供的开发者工具（如Chrome为F12），进入控制台，复制以上代码来实现功能。<br>为了更加简化操作步骤，我们可以将以下压缩后的JS代码保存至书签栏/收藏夹（Ctrl+D），这样即可快速调用：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript:&#123;<span class="function"><span class="keyword">function</span> <span class="title">reload</span>(<span class="params"></span>)</span>&#123;setTimeout(<span class="string">'reload()'</span>,<span class="number">1000</span>*timeout);<span class="keyword">var</span> myFrame=<span class="string">"&lt;frameset cols='*'&gt;&lt;frame src='"</span>+current+<span class="string">"' /&gt;&lt;/frameset&gt;"</span>;<span class="keyword">with</span>(<span class="built_in">document</span>)&#123;write(myFrame);<span class="keyword">void</span>(close())&#125;&#125;<span class="keyword">var</span> timeout=prompt(<span class="string">"设置刷新时间间隔(s)"</span>);<span class="keyword">var</span> current=location.href;<span class="keyword">if</span>(timeout&gt;<span class="number">0</span>)&#123;setTimeout(<span class="string">'reload()'</span>,<span class="number">1000</span>*timeout)&#125;<span class="keyword">else</span>&#123;location.replace(current)&#125;&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&amp;emsp;&amp;emsp;很多时候我们需要让网页不断刷新来达到持续监视或刷访问次数等目的，我们可以通过简单的JS脚本来实现网页自动刷新的操作。&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutt
      
    
    </summary>
    
      <category term="编程" scheme="https://pcninja.cn/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="编程" scheme="https://pcninja.cn/tags/%E7%BC%96%E7%A8%8B/"/>
    
      <category term="JavaScript" scheme="https://pcninja.cn/tags/JavaScript/"/>
    
      <category term="脚本" scheme="https://pcninja.cn/tags/%E8%84%9A%E6%9C%AC/"/>
    
  </entry>
  
  <entry>
    <title>关于C/C++中主函数的声明及返回值问题</title>
    <link href="https://pcninja.cn/2018/09/about-main-function-declaration-and-returned-value/"/>
    <id>https://pcninja.cn/2018/09/about-main-function-declaration-and-returned-value/</id>
    <published>2018-09-26T03:05:00.000Z</published>
    <updated>2018-10-04T02:40:44.187Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>&emsp;&emsp;在C/C++程序中有时会见到采用诸如<code>void main()</code>等方式来声明主函数，很多人在主函数返回值的问题上也略显随意。经过查阅多版本的C、C++标准文档与相关书籍，我将我的结论与认识总结于此。不可避免地，其中可能包含我错误的认识，欢迎大家指正。<br><a id="more"></a></p></blockquote><h2 id="main-函数的函数类型"><a href="#main-函数的函数类型" class="headerlink" title="main()函数的函数类型"></a>main()函数的函数类型</h2><p>关于<code>main()</code>的原型，C89/99/11以及C++98/03/11/14等标准给出的说法略有出入，尤其在早期标准中差异更为显著。然而，共同的，在任何一个版本的标准中，均未承认<code>void main()</code>这种声明方式。首先可以得出结论：<code>void main()</code>为错误写法，所有编译器都没有理由支持该种写法。</p><p>在K&amp;R C与C89里，若函数没有显式声明返回类型，则默认是<code>int</code>，因此在早期C程序中经常出现这样的主函数：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">main()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 函数体</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>这种写法在早期标准中是被认可的，<code>main()</code>等价于<code>int main()</code>。但是，C99标准不再支持函数的<code>int</code>类型的默认设置，因此该写法被废止，新的编译器不再允许此类main函数。</p><p>在C99/11标准中，明确定义了对于标准的main函数的两个原型：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br></pre></td></tr></table></figure></p><p>为了增强说服力，我在《C Primer Plus》（第六版）（该书以1999 ISO/ANSI作为标准）中找到了这样一段话：</p><blockquote><p>&emsp;&emsp;如果浏览老版本的C代码，您将发现程序常常以：<code>main()</code>这种形式开始。C90标准勉强允许这种形式，但是C99标准不允许。因此即使您当前的编译器允许，也不要这么做。<br>&emsp;&emsp;您还将看到另一种形式：<code>void main()</code><br>&emsp;&emsp;有些编译器允许这种形式，但是还没有任何标准考虑接受它。因而，编译器不必接受这种形式，并且许多编译器也不这样做。再者说，如果坚持使用标准形式，那么当您把程序从一个编译器移到另一个编译器时也不会有问题。</p></blockquote><h2 id="main-函数的形式参数"><a href="#main-函数的形式参数" class="headerlink" title="main()函数的形式参数"></a>main()函数的形式参数</h2><p>此部分C与C++略有差异</p><ul><li>C</li></ul><p>int main()和int main(void)在C语言中是有区别的：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="comment">// 不等价于</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br></pre></td></tr></table></figure></p><p>在C语言中参数列表为空(即不提供参数列表也不为void)，表示不提供参数数量和参数类型信息：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span>           <span class="comment">// 参数列表为空不代表不接受参数</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    print(<span class="string">"Hello, world\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    func(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);    <span class="comment">// 调用func()，并传递了参数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>因此在C中，main函数的参数部分应该以以下两种方式描述：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br></pre></td></tr></table></figure></p><p>不应该写：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br></pre></td></tr></table></figure></p><ul><li>C++</li></ul><p>由于C和C++中对于函数参数列表的规则并不一致(C++中参数列表为空代表不接收任何参数)。所以C++中main的原型和ISO C也并不太一样。<br>在C++中，下面两种写法是完全等价的。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br></pre></td></tr></table></figure></p><p>以上两种形式均符合标准。</p><h2 id="main-函数的返回值"><a href="#main-函数的返回值" class="headerlink" title="main()函数的返回值"></a>main()函数的返回值</h2><p>上文指出，<code>main()</code>应以int类型定义，故需要返回一个<code>int</code>类型的返回值到操作系统。<br>在早期标准中，主函数中的<code>return 0;</code>是可以省略的，<code>main()</code>最后如果没有返回值，则会自动<code>return 0;</code>，但是记住，只有main函数是这样，其他函数不能省略<code>return</code>。<br>自C99/C++98以来，主函数的返回值为强制，若漏掉了返回语句，大多数编译器会给出警告，但仍将编译程序。</p><ul><li><code>return 0;</code>：一般用在主函数结束时，按照程序开发的一般惯例，表示成功完成本函数</li><li><code>return -1;</code>：一般用在子函数结尾，按照程序开发的一般惯例，表示该函数失败</li></ul><p><code>main()</code>必须要有返回值的原因是：在C和C++中使用return-statement都是将return的值作为参数来调用exit/std::exit来终止程序。<br>此外，返回值对于某些操作系统（包括DOS和UNIX）而言，具有实际的用途。<br>以Windows为例，编译以下程序：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* test.c */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>在命令提示符下运行命令<code>test &amp;&amp; dir</code>，得到以下结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">D:\code&gt;test &amp;&amp; dir</span><br><span class="line"></span><br><span class="line"> D:\code 的目录</span><br><span class="line"></span><br><span class="line">2018/09/26  10:31    &lt;DIR&gt;          .</span><br><span class="line">2018/09/26  10:31    &lt;DIR&gt;          ..</span><br><span class="line">2018/09/26  10:29                35 test.c</span><br><span class="line">2018/09/26  10:30            41,664 test.exe</span><br><span class="line">               2 个文件         41,699 字节</span><br><span class="line">               2 个目录 605,409,882,112 可用字节</span><br><span class="line"></span><br><span class="line">D:\code&gt;</span><br></pre></td></tr></table></figure></p><p>test.exe正常结束后执行<code>dir</code>指令，输出了目录列表。<br>若将第4行返回值由0改为-1:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br></pre></td></tr></table></figure></p><p>再次执行<code>test &amp;&amp; dir</code>命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">D:\code&gt;test &amp;&amp; dir</span><br><span class="line"></span><br><span class="line">D:\code&gt;</span><br></pre></td></tr></table></figure></p><p>test.exe将-1返回给了操作系统，即程序异常结束，因此windows没有继续执行<code>dir</code>打印目录列表。<br>总结一下，正常情况下main函数应以<code>return 0;</code>结束，不能随意更改返回值。</p><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>综上所述，一般情况下，C/C++程序的主函数都应该以如下方法编写：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span>    <span class="comment">// void在C++中可省，C不建议省</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 函数体</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>即使其他不标准的声明方法也许不会影响程序的正常编译、运行，但为了程序的可移植性与易维护性，我们应该养成良好的编码习惯，利人利己。</p><blockquote><p>参考文献<br>[1] Stephen Prata 编著，《C Primer Plus》，人民邮电出版社，2005年，§2.2 §9.2 §B.5.<br>[2] Andrew Koenig 编著，《C陷阱与缺陷》，人民邮电出版社，2008年，§2.1 §7.1.<br>[3] Stephen Prata 编著，《C++ Primer Plus》，人民邮电出版社，2012年，§2.1 §2.4.</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;在C/C++程序中有时会见到采用诸如&lt;code&gt;void main()&lt;/code&gt;等方式来声明主函数，很多人在主函数返回值的问题上也略显随意。经过查阅多版本的C、C++标准文档与相关书籍，我将我的结论与认识总结于此。不可避免地，其中可能包含我错误的认识，欢迎大家指正。&lt;br&gt;
    
    </summary>
    
      <category term="编程" scheme="https://pcninja.cn/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="C" scheme="https://pcninja.cn/tags/C/"/>
    
      <category term="C++" scheme="https://pcninja.cn/tags/C/"/>
    
      <category term="编程" scheme="https://pcninja.cn/tags/%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>军训小结</title>
    <link href="https://pcninja.cn/2018/09/summary-of-military-training/"/>
    <id>https://pcninja.cn/2018/09/summary-of-military-training/</id>
    <published>2018-09-17T01:59:22.000Z</published>
    <updated>2018-09-17T02:05:04.279Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;2018年9月2日，我与全新结识的同学们踏上了前往北京八达岭军训基地的汽车。天蒙蒙亮，我怀着既紧张又期待的心情开始了为期14天的军事训练。<br>&emsp;&emsp;在军训过程中，我感受到了军旅生活的艰辛与严谨。生活中，同学们在承训教官的悉心指导与监督下坚持每天认真整理内务，培养了雷厉风行的优良作风。同学们士气高涨，“将士们，听党指挥，能打胜仗，作风优良”的歌声时常响彻整个基地；训练中，同学们挥汗如雨，在飞沙走石的训练场上留下了自己坚持的痕迹。教官们的严格要求使我们进一步深化了听从指挥、令行禁止的意识。<br>&emsp;&emsp;此外，穿插在军训期间的演讲比赛、拔河比赛、合唱比赛等文体活动更是为同学们提供了展示自我、结识朋友的机会。同学们在竞争中学会团结、学会合作、学会理解，为今后的学习生活打下了坚实的基础。<br>&emsp;&emsp;9月15日，伴随着《分列式进行曲》，我昂首走过检阅台，展示了刻苦训练的成果。这同时也标志着短暂的军训时光渐渐走向尾声。<br>&emsp;&emsp;通过这次军训，我受益匪浅。我意识到了优良的作风、强健的体魄、坚强的意志是个人与团队进步的先决条件，我将把军训中养成的优良习惯延续到今后的学习生活中。军训不仅提升了我的国防意识，更让我深刻认识到和平的来之不易。铭记历史，缅怀先烈，珍爱和平，开创未来。我将牢牢记住并践行这十六个字，让祖国强大，让世界和平！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&amp;emsp;&amp;emsp;2018年9月2日，我与全新结识的同学们踏上了前往北京八达岭军训基地的汽车。天蒙蒙亮，我怀着既紧张又期待的心情开始了为期14天的军事训练。&lt;br&gt;&amp;emsp;&amp;emsp;在军训过程中，我感受到了军旅生活的艰辛与严谨。生活中，同学们在承训教官的悉心指导
      
    
    </summary>
    
      <category term="文学" scheme="https://pcninja.cn/categories/%E6%96%87%E5%AD%A6/"/>
    
    
      <category term="写作" scheme="https://pcninja.cn/tags/%E5%86%99%E4%BD%9C/"/>
    
      <category term="大学" scheme="https://pcninja.cn/tags/%E5%A4%A7%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>人生何其苦</title>
    <link href="https://pcninja.cn/2018/08/the-bitter-life/"/>
    <id>https://pcninja.cn/2018/08/the-bitter-life/</id>
    <published>2018-08-01T10:53:02.000Z</published>
    <updated>2018-08-17T04:08:02.162Z</updated>
    
    <content type="html"><![CDATA[<p>微博上看到的一段话，若有所思，也许若干年后再回首看到此文会别有一番感悟，故转载于此。</p><blockquote><p>25岁，你找到了一份“高薪”工作<br>爸妈开心，同学羡慕<br>你对工作充满热情，<br>全部心思扑在工作上</p><p>35岁你因为身体越来越差<br>加班越来越少<br>晋升的速度也越来越缓慢<br>收入原地踏步，生活压力却越来越大</p><p>那天下班，媳妇告诉你<br>孩子要上幼儿园了<br>双语的一个月3000<br>你皱了皱眉头，那边就已经不耐烦了<br><a id="more"></a><br>“四单元的老王家孩子，一个月6000”<br>“你已经这样了，你想让孩子也输？”<br>你没说话，回屋绐媳妇转了6000块钱<br>这笔钱，你原本打算绐自己过个生日，买个新电脑</p><p>38岁，孩子上了一年级<br>老师说一年级最关键，打好基础很重要<br>你笑着说，是是是，老师您多照顾</p><p>新生接待的老师看着你不明事理的脸<br>给你指了一条明路<br>“课外辅导班，一个月2200”</p><p>40岁的时候，孩子上了三年级<br>老师说，三年级，最关键，承上启下很重要<br>你笑着说：是是是，正打算再报个补习班</p><p>44岁，孩子上了初中<br>有一天回到家，她对你说<br>爸爸，我想学钢琴<br>你没什么犹豫的<br>你以为这些年，你已经习惯了</p><p>那句“爸爸现在买不起”你始终说不出口<br>好在孩子比较懂事<br>她说：爸爸没事，要不我先学陶笛也可以<br>你看着这么懂事的孩子，却开心不起来</p><p>46岁，孩子上了一个不好不差的高中<br>有一天你在开会，接到了老师的电话<br>电话里说你的孩子在学校打架了<br>叫你去一趟<br>你唯唯诺诺的<br>和那个比你还小5岁的领导请了个假</p><p>到学校又被老师训了一通<br>无非台词就是那一句<br>你们做家长的就知道工作，能不能陪陪孩子</p><p>你看着这个老师，有点可笑<br>好像当时说：<br>家长在外辛苦点<br>多赚点钱让孩子多补补课的和他不是一个人</p><p>50岁，孩子上了大学<br>很争气，是一个一本<br>他学的专业你有点看不懂<br>你只知道工作不一定好找<br>而且学费还死贵<br>你和他深夜想聊聊<br>准备了半斤白酒，一碟花生米<br>你说着那些曾经你最讨厌的话</p><p>还是要为以后工作着想<br>挑个热门的专业<br>活着比热爱重要</p><p>你们从交流变成了争吵<br>你发现，你老了<br>老到可能都打不过这个18岁的孩子<br>你说不过他，只能说一句：我是你爸爸！<br>孩子看着你，知道再怎么争辩都没用<br>这场确立你最后威严的酒局不欢而散<br>你听的不真切<br>在孩子回自己屋的路上好像叨叨了一句<br>“我不想活的像你一样”</p><p>怎么就哭了呢？50岁的人了<br>一定是酒太辣了，对不对<br>一定是酒太辣</p><p>55岁，孩子工作了，似乎有一点理解你了<br>但你却反了过来，你说不要妥协</p><p>60岁，辛苦了一辈子，想出去走走<br>身边的那个人过了30年<br>你依旧分不清到底喜不喜欢<br>你们开始规划旅游路线<br>这么多年了<br>你们还是存在分歧，还是在争吵<br>某个瞬间，你觉得<br>这样可能也挺好</p><p>一切都准备好了<br>儿子说：爸妈，我工作太忙了<br>可以帮我照顾一下孩子么<br>你们退了机票，又回到了30年前</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;微博上看到的一段话，若有所思，也许若干年后再回首看到此文会别有一番感悟，故转载于此。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;25岁，你找到了一份“高薪”工作&lt;br&gt;爸妈开心，同学羡慕&lt;br&gt;你对工作充满热情，&lt;br&gt;全部心思扑在工作上&lt;/p&gt;
&lt;p&gt;35岁你因为身体越来越差&lt;br&gt;加班越来越少&lt;br&gt;晋升的速度也越来越缓慢&lt;br&gt;收入原地踏步，生活压力却越来越大&lt;/p&gt;
&lt;p&gt;那天下班，媳妇告诉你&lt;br&gt;孩子要上幼儿园了&lt;br&gt;双语的一个月3000&lt;br&gt;你皱了皱眉头，那边就已经不耐烦了&lt;br&gt;
    
    </summary>
    
      <category term="生活" scheme="https://pcninja.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="杂谈" scheme="https://pcninja.cn/tags/%E6%9D%82%E8%B0%88/"/>
    
      <category term="生活" scheme="https://pcninja.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="转载" scheme="https://pcninja.cn/tags/%E8%BD%AC%E8%BD%BD/"/>
    
      <category term="人生" scheme="https://pcninja.cn/tags/%E4%BA%BA%E7%94%9F/"/>
    
  </entry>
  
  <entry>
    <title>迷信科学与科学迷信</title>
    <link href="https://pcninja.cn/2017/04/superstitious-science-and-scientific-superstitions/"/>
    <id>https://pcninja.cn/2017/04/superstitious-science-and-scientific-superstitions/</id>
    <published>2017-04-11T11:23:06.000Z</published>
    <updated>2018-07-31T06:40:22.000Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;这是我于2017年4月11日进行的简短演讲的演讲稿，文中简单阐述了我对科学以及迷信间关系的理解，在此记录，因为<strong>今天的故事是明天的回忆</strong>。</p><blockquote><p>迷信科学与科学迷信</p><p>&emsp;&emsp;大家好，今天我想谈谈我对迷信科学与科学迷信的理解与看法。<br>&emsp;&emsp;众所周知，科学与迷信是两个相互对立的实践方法。古往今来，人类思维的发展可大致分为三个阶段，即神学、玄学与科学，这是“汉语拼音之父”周有光对人类的认识阶段作出的划分。神学依靠天命，那时的人们相信是神指导着他们的生活、行为、思想以及命运，上帝是不容置疑的。魏晋时期老庄“玄远之学”的起源为迷信增添了推理的成分，《周易》便是玄学的典型代表，它脱离神学，但不可否认，它仍是形而上的。十六世纪，哥白尼的“日心说”，率领人类进入科学的认知阶段。<br>&emsp;&emsp;科学是一个可解释的、有序的知识系统，在广义上还被认为是可靠的代名词；而迷信指盲目的相信、不理解的相信，它象征着愚昧与落后。二者完全对立，但又界限模糊。如今，人们的最大迷信叫做“科学”。生活中，人们大多对科学非常崇拜，往往对科学不假思索地认可。试想：一名村干部在向农民们推广化肥时，他会理直气壮地说：“这是科学！”尽管他可能不懂这其中的化学原理，但他也会底气十足。这恰恰说明科学在大众心中的形象是个神！把自己不懂的东西尊奉到一个至高无上的地位，这种态度正是迷信。<a id="more"></a><br>&emsp;&emsp;在互联网时代，人们在享受便利的同时也不得不接受如潮水般涌来的资讯，其中鱼龙混杂，充斥着大大小小的谣言与骗局。在这些资讯中，最令人难辨真假的大都与科学有关，例如：转基因食物究竟对人体有无害处？碘盐究竟能不能预防辐射？维生素C能治疗感冒吗？这些信息离每个人的生活都非常近，因此即使科学界尚未对此盖棺定论，但只要打着“科学”的旗号，无论依据是否可靠，多数人都会信服，尤其是中老年人。我想，之所以科技类谣言编造成本低，是因为大多科学谣言的论据不为大众所熟悉，国民科学素养的低下导致他们丧失了判断能力，只能盲目地相信，这无异于迷信。<br>&emsp;&emsp;科学只是前人经过实践探究得出的规律性结论，并非绝对意义的真理。哥白尼的“日心说”推翻了广为认可的“地心说”，而后人又指出了哥白尼观点中的瑕疵；开普勒发现了托勒密折射规律的错误但仍没能给出正确的规律，最终由斯涅耳找出了正确的折射定律；牛顿推翻了亚里士多德的观点，而后量子物理的发展又找出了经典力学的局限性。这些发现都引起了人类对宇宙认识的巨大思想变革。由此可见，我们不必迷信科学，要辩证地看待科学，提高自身科学素养，勇于抱着“大胆假设，小心求证”的心态挑战科学。<br>&emsp;&emsp;反观迷信，只要是稍有些学识的人大都会说迷信是值得唾弃的，殊不知迷信无处不在，它也在潜移默化地改变着我们的生活。据调查，美国作为科学教育最为完善的国家之一，有三成以上的国民相信占星术，并乐意按照星座指南上的指示行事。中国的大街小巷上也不乏风水先生与算卦先生，尽管人们知道这是玄学也愿意以此为自己祈求好运。这样的例子在我们身边也不少见，例如社交媒体上，经常出现诸如“转发即可带来好运”之类的信息，这种事情在考试前尤为常见。不少人照做后真的灵验了，你可能会说这只是巧合。但事实上，这不完全是巧合，这种现象在心理学中叫做“心理暗示”，是人们日常生活中最常见的心理现象。这种祈求尽管不一定有根据，但由于主观上已肯定了它的存在，心理上便竭力趋向于这项内容，这便是信念的力量。如果我们能适当的、科学的运用这种心理暗示，那么迷信也不失为一种利于发展的方式。<br>&emsp;&emsp;综合来看，即使是科学也可能被颠覆，而迷信也并非有百害而无一利。杜绝迷信科学，学会科学迷信，才是最佳发展之道。<br>&emsp;&emsp;我的演讲到此结束，感谢各位的倾听！</p><p>2017年4月9日</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;这是我于2017年4月11日进行的简短演讲的演讲稿，文中简单阐述了我对科学以及迷信间关系的理解，在此记录，因为&lt;strong&gt;今天的故事是明天的回忆&lt;/strong&gt;。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;迷信科学与科学迷信&lt;/p&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;大家好，今天我想谈谈我对迷信科学与科学迷信的理解与看法。&lt;br&gt;&amp;emsp;&amp;emsp;众所周知，科学与迷信是两个相互对立的实践方法。古往今来，人类思维的发展可大致分为三个阶段，即神学、玄学与科学，这是“汉语拼音之父”周有光对人类的认识阶段作出的划分。神学依靠天命，那时的人们相信是神指导着他们的生活、行为、思想以及命运，上帝是不容置疑的。魏晋时期老庄“玄远之学”的起源为迷信增添了推理的成分，《周易》便是玄学的典型代表，它脱离神学，但不可否认，它仍是形而上的。十六世纪，哥白尼的“日心说”，率领人类进入科学的认知阶段。&lt;br&gt;&amp;emsp;&amp;emsp;科学是一个可解释的、有序的知识系统，在广义上还被认为是可靠的代名词；而迷信指盲目的相信、不理解的相信，它象征着愚昧与落后。二者完全对立，但又界限模糊。如今，人们的最大迷信叫做“科学”。生活中，人们大多对科学非常崇拜，往往对科学不假思索地认可。试想：一名村干部在向农民们推广化肥时，他会理直气壮地说：“这是科学！”尽管他可能不懂这其中的化学原理，但他也会底气十足。这恰恰说明科学在大众心中的形象是个神！把自己不懂的东西尊奉到一个至高无上的地位，这种态度正是迷信。
    
    </summary>
    
      <category term="文学" scheme="https://pcninja.cn/categories/%E6%96%87%E5%AD%A6/"/>
    
    
      <category term="写作" scheme="https://pcninja.cn/tags/%E5%86%99%E4%BD%9C/"/>
    
      <category term="杂谈" scheme="https://pcninja.cn/tags/%E6%9D%82%E8%B0%88/"/>
    
      <category term="高中" scheme="https://pcninja.cn/tags/%E9%AB%98%E4%B8%AD/"/>
    
      <category term="演讲" scheme="https://pcninja.cn/tags/%E6%BC%94%E8%AE%B2/"/>
    
      <category term="玄学" scheme="https://pcninja.cn/tags/%E7%8E%84%E5%AD%A6/"/>
    
      <category term="科学" scheme="https://pcninja.cn/tags/%E7%A7%91%E5%AD%A6/"/>
    
      <category term="迷信" scheme="https://pcninja.cn/tags/%E8%BF%B7%E4%BF%A1/"/>
    
  </entry>
  
  <entry>
    <title>职业无高低</title>
    <link href="https://pcninja.cn/2017/02/all-jobs-are-equal/"/>
    <id>https://pcninja.cn/2017/02/all-jobs-are-equal/</id>
    <published>2017-02-14T12:40:34.000Z</published>
    <updated>2018-03-03T11:16:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;近日，清华女学霸石悦因选择做游戏主播为职业而走红网络，网友大都报以不支持的态度，原因是在大多数人的认知中，游戏主播是个低贱的行业，不学无术的人才会以此为出路。我想这种扭曲的观念的产生原因有二：一是网络直播作为新兴产业，还未能被大众认可，尤其是在中老年群体中，旧思想根深蒂固，无法接受新鲜事物；二是有许多人不能以端正的态度审视游戏主播这一职业，他们仅仅因为游戏主播大都学历偏低就以偏概全，贬低这种职业的社会地位，从门缝里看游戏主播，导致了这种扭曲的社会怪象。<br>&emsp;&emsp;我认为，术业有专攻，无论在哪个行业之中都会有贵有贱，但职业本身并无高低贵贱之分。即使是大部分人看不起的清洁工人，也不乏有成功人士。因此，我认为石悦选择自己的爱好作为职业是对这一职业的贡献，不应受到贬低，更不应因自己清华出身就遭到谴责。<br>&emsp;&emsp;职业无高低，贵贱在自身，社会需要以包容的态度接纳新观念、新行业。唯有这样，才能构成一个健全的社会。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&amp;emsp;&amp;emsp;近日，清华女学霸石悦因选择做游戏主播为职业而走红网络，网友大都报以不支持的态度，原因是在大多数人的认知中，游戏主播是个低贱的行业，不学无术的人才会以此为出路。我想这种扭曲的观念的产生原因有二：一是网络直播作为新兴产业，还未能被大众认可，尤其是在中老年
      
    
    </summary>
    
      <category term="文学" scheme="https://pcninja.cn/categories/%E6%96%87%E5%AD%A6/"/>
    
    
      <category term="主播" scheme="https://pcninja.cn/tags/%E4%B8%BB%E6%92%AD/"/>
    
      <category term="写作" scheme="https://pcninja.cn/tags/%E5%86%99%E4%BD%9C/"/>
    
      <category term="杂谈" scheme="https://pcninja.cn/tags/%E6%9D%82%E8%B0%88/"/>
    
      <category term="职业" scheme="https://pcninja.cn/tags/%E8%81%8C%E4%B8%9A/"/>
    
  </entry>
  
  <entry>
    <title>Linux实现《黑客帝国》中的“字符雨”</title>
    <link href="https://pcninja.cn/2016/11/realizes-character-rain-in-the-matrix/"/>
    <id>https://pcninja.cn/2016/11/realizes-character-rain-in-the-matrix/</id>
    <published>2016-11-13T06:35:28.000Z</published>
    <updated>2018-08-19T01:55:54.709Z</updated>
    
    <content type="html"><![CDATA[<p>《黑客帝国》电影里满屏幕代码的“数字雨”，在 Linux 里面你也可以轻松实现这样的效果，你只需要一个命令：<strong>cmatrix</strong>。</p><p>需要先安装，因为 Ubuntu 没有预装：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install cmatrix</span><br></pre></td></tr></table></figure><p>装好之后先不要急着执行，为了看到更好的效果，我们需要先修改终端的主题配色，修改为黑底绿字。</p><p>这时执行：<code>$ cmatrix</code>就可以看到效果了，按F11可全屏控制台，Ctrl+C可以终止程序。<a id="more"></a><br><img src="/2016/11/realizes-character-rain-in-the-matrix/cmatrix.png" title="cmatrix"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;《黑客帝国》电影里满屏幕代码的“数字雨”，在 Linux 里面你也可以轻松实现这样的效果，你只需要一个命令：&lt;strong&gt;cmatrix&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;需要先安装，因为 Ubuntu 没有预装：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sudo apt-get update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ sudo apt-get install cmatrix&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;装好之后先不要急着执行，为了看到更好的效果，我们需要先修改终端的主题配色，修改为黑底绿字。&lt;/p&gt;
&lt;p&gt;这时执行：&lt;code&gt;$ cmatrix&lt;/code&gt;就可以看到效果了，按F11可全屏控制台，Ctrl+C可以终止程序。
    
    </summary>
    
      <category term="IT" scheme="https://pcninja.cn/categories/IT/"/>
    
    
      <category term="Linux" scheme="https://pcninja.cn/tags/Linux/"/>
    
      <category term="技巧" scheme="https://pcninja.cn/tags/%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>Linux下的Banner生成工具</title>
    <link href="https://pcninja.cn/2016/11/Banner-generation-tools-under-Linux/"/>
    <id>https://pcninja.cn/2016/11/Banner-generation-tools-under-Linux/</id>
    <published>2016-11-13T05:05:37.000Z</published>
    <updated>2018-03-03T11:17:24.000Z</updated>
    
    <content type="html"><![CDATA[<h4 id="一、banner——使用-生成banner"><a href="#一、banner——使用-生成banner" class="headerlink" title="一、banner——使用#生成banner"></a>一、banner——使用#生成banner</h4><p>使用apt-get安装：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install sysvbanner</span><br></pre></td></tr></table></figure></p><p>使用方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ banner TestText</span><br></pre></td></tr></table></figure></p><p>效果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#######                         #######</span><br><span class="line">   #     ######   ####    #####    #     ######  #    #   #####</span><br><span class="line">   #     #       #          #      #     #        #  #      #</span><br><span class="line">   #     #####    ####      #      #     #####     ##       #</span><br><span class="line">   #     #            #     #      #     #         ##       #</span><br><span class="line">   #     #       #    #     #      #     #        #  #      #</span><br><span class="line">   #     ######   ####      #      #     ######  #    #     #</span><br></pre></td></tr></table></figure></p><p>另一个命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ printerbanner -w 50 A</span><br></pre></td></tr></table></figure></p><p>‘-w’参数指定打印宽度，因为我们的环境在屏幕中显示比较小，必须要加上宽度限制。<br><a id="more"></a><br>效果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># </span><br><span class="line"># </span><br><span class="line">###</span><br><span class="line">######</span><br><span class="line">#    #####</span><br><span class="line">          #### </span><br><span class="line">          ## #### </span><br><span class="line">          ##     #####</span><br><span class="line">          ##         ##### </span><br><span class="line">          ##            #####</span><br><span class="line">          ##          ############</span><br><span class="line">          ##      ##############</span><br><span class="line">          ##   ##############</span><br><span class="line">          ############## </span><br><span class="line">#      ###############</span><br><span class="line">#  ###############</span><br><span class="line">#############</span><br><span class="line">##########</span><br><span class="line">######</span><br><span class="line">##</span><br><span class="line">#</span><br></pre></td></tr></table></figure></p><h4 id="二、figlet——使用一些普通字符生成banner"><a href="#二、figlet——使用一些普通字符生成banner" class="headerlink" title="二、figlet——使用一些普通字符生成banner"></a>二、figlet——使用一些普通字符生成banner</h4><p>使用apt-get安装：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install figlet</span><br></pre></td></tr></table></figure></p><p>使用方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ figlet TestText</span><br></pre></td></tr></table></figure></p><p>使用参数<code>-f</code>可以指定字体，如<code>figlet -f slant EastCoke</code><br>使用参数<code>-ctf</code>可以使banner居中并且与终端等宽<br>输出到文件可以使用<code>figlet -p &lt; /path/to/file</code></p><p>效果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> _____         _  _____         _   </span><br><span class="line">|_   _|__  ___| ||_   _|____  _| |_ </span><br><span class="line">  | |/ _ \/ __| __|| |/ _ \ \/ / __|</span><br><span class="line">  | |  __/\__ \ |_ | |  __/&gt;  &lt;| |_ </span><br><span class="line">  |_|\___||___/\__||_|\___/_/\_\\__|</span><br></pre></td></tr></table></figure></p><h4 id="三、toilet——使用一些复杂的彩色特殊字符生成banner"><a href="#三、toilet——使用一些复杂的彩色特殊字符生成banner" class="headerlink" title="三、toilet——使用一些复杂的彩色特殊字符生成banner"></a>三、toilet——使用一些复杂的彩色特殊字符生成banner</h4><p>使用apt-get安装：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install toilet</span><br></pre></td></tr></table></figure></p><p>使用方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ toilet -f bigmono9 -F gay TestText</span><br><span class="line"></span><br><span class="line">$ toilet -f mono12 -F metal TestText</span><br></pre></td></tr></table></figure></p><p>效果(截图)：<br><img src="/2016/11/Banner-generation-tools-under-Linux/banner.png" title="toilet"></p><p>如果希望在每次打开终端的时候都会显示出banner，可以使用下面的命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &apos;toilet -f bigmono9 -F gay EastCoke&apos; &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;一、banner——使用-生成banner&quot;&gt;&lt;a href=&quot;#一、banner——使用-生成banner&quot; class=&quot;headerlink&quot; title=&quot;一、banner——使用#生成banner&quot;&gt;&lt;/a&gt;一、banner——使用#生成banner&lt;/h4&gt;&lt;p&gt;使用apt-get安装：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sudo apt-get update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ sudo apt-get install sysvbanner&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;使用方法：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ banner TestText&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;效果：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#######                         #######&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   #     ######   ####    #####    #     ######  #    #   #####&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   #     #       #          #      #     #        #  #      #&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   #     #####    ####      #      #     #####     ##       #&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   #     #            #     #      #     #         ##       #&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   #     #       #    #     #      #     #        #  #      #&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   #     ######   ####      #      #     ######  #    #     #&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;另一个命令：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ printerbanner -w 50 A&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;‘-w’参数指定打印宽度，因为我们的环境在屏幕中显示比较小，必须要加上宽度限制。&lt;br&gt;
    
    </summary>
    
      <category term="IT" scheme="https://pcninja.cn/categories/IT/"/>
    
    
      <category term="Linux" scheme="https://pcninja.cn/tags/Linux/"/>
    
      <category term="技巧" scheme="https://pcninja.cn/tags/%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>航天精神依然在</title>
    <link href="https://pcninja.cn/2016/11/the-spirit-of-space-is-still-there/"/>
    <id>https://pcninja.cn/2016/11/the-spirit-of-space-is-still-there/</id>
    <published>2016-11-02T13:48:56.000Z</published>
    <updated>2017-09-24T00:47:40.000Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;1970年4月24日，中国第一颗人造地球卫星“东方红一号”成功发射，中国航天事业的序幕从此拉开。50多年来，中国航天事业从无到有、从小到大、从弱到强，人们记住了钱学森，记住了杨利伟，也记住了航天“三大”精神，即航天传统精神、“两弹一星”精神和载人航天精神。然而时至今日，中国航天事业已走向成熟，进入了平稳发展时期，没有了重大突破，没有了所谓“大新闻”，因此，航天精神慢慢不再被人提及，人们逐渐淡忘了这曾经催人奋进的灵魂精神。<br>&emsp;&emsp;但是，尽管“东方红一号”早已从我们的眼前消失，但航天精神仍然能应用在各行各业的各个领域。“自强不息，顽强拼搏，团结协作，开拓创新”对于今天的人们仍是发展的动力源泉。2016年8月，中国成功把世界首颗量子科学实验卫星“墨子号”送入太空。此前，潘建伟和他的团队为了这次“全球首发”，做了十一年的分发实验。这十一年间，他们刻苦工作，发扬了“特别能吃苦、特别能战斗、特别能攻关、特别能奉献”的航天精神，为全世界的网络通信安全做出了重大贡献。他们的成功与航天精神是密不可分的。<br>&emsp;&emsp;然而，今天也有不少人违背了航天精神，因此他们与成功背道而驰。如今，中国是一个程序员过剩的国家，然而中国的软件产业仍不能跻身世界前列。举个简单的例子，在几十年前，计算机进行某种计算需要20秒，若是程序员对算法、数据结构进行深度、广度优化，时间可以减半，即10秒完成运算，时间缩短了整整10秒，这种优化就十分有意义；但随着纳米级处理器的迅猛发展，如今的家用计算机仅需0.02秒即可完成原程序，此时若是进行同样的算法改造，可使时间缩为0.01秒，仅有0.01秒之差。不少程序员就忽视了这0.01秒，因为为了这0.01秒他们可能需要几天的时间来攻关、优化，这看似可以理解。然而这些看似聪明的人殊不知不积跬步无以至千里，不积小流无以成江海。一旦程序写大，效率问题就随之暴露，这就是中国人写不出优秀的软件、写不出自己的操作系统的原因。此外在Github等开源平台中，优秀的开源项目多是出自他国人之手，中国程序员中愿意把自己的心血奉献出来的却寥寥无几，因此他们得不到交流的机会，自身水平也就很难提高。通过以上两个实例不难看出，不少中国程序员“特别怕吃苦、特别怕战斗、特别怕攻关、特别怕奉献”，与航天精神相悖，因此中国软件产业难有长足发展。若是人们都能发扬航天精神，恐怕早已不是今天这幅景象。<br>&emsp;&emsp;有的人“特别能吃苦、特别能战斗、特别能攻关、特别能奉献”，他们大都走向成功，有的人“特别怕吃苦、特别怕战斗、特别怕攻关、特别怕奉献”，他们难有成才者。我想航天精神在今天仍然发挥的作用已不言而喻。航天精神依然在，它早已不再局限于航天领域，它已经刻在每一个想要取得辉煌成就的人心中。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&amp;emsp;&amp;emsp;1970年4月24日，中国第一颗人造地球卫星“东方红一号”成功发射，中国航天事业的序幕从此拉开。50多年来，中国航天事业从无到有、从小到大、从弱到强，人们记住了钱学森，记住了杨利伟，也记住了航天“三大”精神，即航天传统精神、“两弹一星”精神和载人航天
      
    
    </summary>
    
      <category term="文学" scheme="https://pcninja.cn/categories/%E6%96%87%E5%AD%A6/"/>
    
    
      <category term="写作" scheme="https://pcninja.cn/tags/%E5%86%99%E4%BD%9C/"/>
    
      <category term="爱国" scheme="https://pcninja.cn/tags/%E7%88%B1%E5%9B%BD/"/>
    
      <category term="评析" scheme="https://pcninja.cn/tags/%E8%AF%84%E6%9E%90/"/>
    
      <category term="航天精神" scheme="https://pcninja.cn/tags/%E8%88%AA%E5%A4%A9%E7%B2%BE%E7%A5%9E/"/>
    
  </entry>
  
  <entry>
    <title>浅谈对公网、路由器、内网关系的理解</title>
    <link href="https://pcninja.cn/2016/10/the-understanding-of-the-relationship-between-WAN-routers-and-LAN/"/>
    <id>https://pcninja.cn/2016/10/the-understanding-of-the-relationship-between-WAN-routers-and-LAN/</id>
    <published>2016-10-15T09:54:51.000Z</published>
    <updated>2018-03-03T11:19:50.000Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;怎样才能让别人直接访问我的本地网站，这个问题困扰了我很久，原因在于本机IP为类似于192.168.1.xxx的内网IP，显然在公网（全域网）别人是访问不到这里的。今天我对这三者有了更加深刻、透彻的理解。<br>&emsp;&emsp;最简单的，在同一局域网（如同一WIFI下）的设备可以通过这个本地IP（本文以192.168.1.106为例）访问本机。首先在本机上跑一个WEB服务器软件，这里使用的是Nginx，原因是轻小方便，当然Apache等Web服务器也是可以的。<br><img src="/2016/10/the-understanding-of-the-relationship-between-WAN-routers-and-LAN/WANLAN_1.png" title="Nginx"><br>&emsp;&emsp;此时，用浏览器访问Localhost（即<a href="http://127.0.0.1）即可看到服务器的index.html。" target="_blank" rel="noopener">http://127.0.0.1）即可看到服务器的index.html。</a><br><img src="/2016/10/the-understanding-of-the-relationship-between-WAN-routers-and-LAN/WANLAN_2.png" title="本地的Web服务器"><br>&emsp;&emsp;当然，在同一局域网内的其他设备也可以通过你的局域网IP（Windows下可以用ipconfig命令查看IPv4地址）访问此站。顺便一提IPv4指的就是有四个字段的IP地址（xx.xx.xx.xx），而现在逐渐流行的IPv6，顾名思义就是有六个字段的IP地址（xx.xx.xx.xx.xx.xx）。<a id="more"></a><br><img src="/2016/10/the-understanding-of-the-relationship-between-WAN-routers-and-LAN/WANLAN_3.png" title="查看本机局域网IP"><br><img src="/2016/10/the-understanding-of-the-relationship-between-WAN-routers-and-LAN/WANLAN_4.png" title="局域网内访问服务器"><br>&emsp;&emsp;此时我们已经实现了让同一局域网的设备访问自己的Web服务器。但如何让不在局域网的设备访问呢？这就需要路由器的功能及其原理。<br>&emsp;&emsp;在我们的家中，若是接入了互联网，便可以通过网线让自己的设备接入互联网。但如何让所有的设备都能接入网络呢？路由器的存在主要就是为了解决这个问题。<br>&emsp;&emsp;在路由器的管理界面（地址通常是192.168.1.1或192.168.0.1），我们可以找到接入的公网IP地址，这也就是互联网服务提供商（ISP）分给我们的IP。<br><img src="/2016/10/the-understanding-of-the-relationship-between-WAN-routers-and-LAN/WANLAN_5.png" title="查看公网IP"><br>&emsp;&emsp;当其他设备接入这个路由器后，路由器就会建立一个局域网，介入的设备便会被分得内网IP，如我的计算机的局域网IP就是192.168.1.106，它的作用域仅仅是在这个局域网内。此外，路由器本身也是一个系统，它的内网IP一般是192.168.1.1。画一个简图就是这样：<br><img src="/2016/10/the-understanding-of-the-relationship-between-WAN-routers-and-LAN/WANLAN_6.png" title="局域网"><br>&emsp;&emsp;因此，在一个局域网内的设备可以互访，但外部的访问请求只能发送到180.xxx.xxx.216，也就是路由器，但路由器本身并不是Web服务器，因此无法发送请求的数据。如果Web服务器是局域网内的一台设备，那么就需要通过路由器映射80端口（网页传输的默认端口）。具体步骤是：打开路由器管理界面，进入“转发规则”菜单（不同路由器可能不尽相同，但都大同小异），服务端口号填写80，也可以自己指定任意空闲端口，IP地址填写Web服务器的局域网IP（192.168.1.106），协议选择TCP，常用服务端口号选择HTTP。生效后任何接入互联网的设备就都可以通过你路由器的公网IP访问你的Web服务器了。<br><img src="/2016/10/the-understanding-of-the-relationship-between-WAN-routers-and-LAN/WANLAN_7.png" title="路由器设置转发"><br><img src="/2016/10/the-understanding-of-the-relationship-between-WAN-routers-and-LAN/WANLAN_8.png" title="通过广域网访问服务器"><br>&emsp;&emsp;总结一下，所谓“转发”就是路由器把外来请求下放到局域网中指定的Web服务器，简图如下：<br><img src="/2016/10/the-understanding-of-the-relationship-between-WAN-routers-and-LAN/WANLAN_9.png" title="终端与服务器的连接"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;怎样才能让别人直接访问我的本地网站，这个问题困扰了我很久，原因在于本机IP为类似于192.168.1.xxx的内网IP，显然在公网（全域网）别人是访问不到这里的。今天我对这三者有了更加深刻、透彻的理解。&lt;br&gt;&amp;emsp;&amp;emsp;最简单的，在同一局域网（如同一WIFI下）的设备可以通过这个本地IP（本文以192.168.1.106为例）访问本机。首先在本机上跑一个WEB服务器软件，这里使用的是Nginx，原因是轻小方便，当然Apache等Web服务器也是可以的。&lt;br&gt;&lt;img src=&quot;/2016/10/the-understanding-of-the-relationship-between-WAN-routers-and-LAN/WANLAN_1.png&quot; title=&quot;Nginx&quot;&gt;&lt;br&gt;&amp;emsp;&amp;emsp;此时，用浏览器访问Localhost（即&lt;a href=&quot;http://127.0.0.1）即可看到服务器的index.html。&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://127.0.0.1）即可看到服务器的index.html。&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;/2016/10/the-understanding-of-the-relationship-between-WAN-routers-and-LAN/WANLAN_2.png&quot; title=&quot;本地的Web服务器&quot;&gt;&lt;br&gt;&amp;emsp;&amp;emsp;当然，在同一局域网内的其他设备也可以通过你的局域网IP（Windows下可以用ipconfig命令查看IPv4地址）访问此站。顺便一提IPv4指的就是有四个字段的IP地址（xx.xx.xx.xx），而现在逐渐流行的IPv6，顾名思义就是有六个字段的IP地址（xx.xx.xx.xx.xx.xx）。
    
    </summary>
    
      <category term="IT" scheme="https://pcninja.cn/categories/IT/"/>
    
    
      <category term="写作" scheme="https://pcninja.cn/tags/%E5%86%99%E4%BD%9C/"/>
    
      <category term="网络" scheme="https://pcninja.cn/tags/%E7%BD%91%E7%BB%9C/"/>
    
      <category term="Web服务器" scheme="https://pcninja.cn/tags/Web%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="局域网" scheme="https://pcninja.cn/tags/%E5%B1%80%E5%9F%9F%E7%BD%91/"/>
    
      <category term="路由器" scheme="https://pcninja.cn/tags/%E8%B7%AF%E7%94%B1%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>四种语言画国旗</title>
    <link href="https://pcninja.cn/2016/10/draw-the-national-flag-by-four-languages/"/>
    <id>https://pcninja.cn/2016/10/draw-the-national-flag-by-four-languages/</id>
    <published>2016-10-06T00:45:25.000Z</published>
    <updated>2018-03-03T11:24:04.000Z</updated>
    
    <content type="html"><![CDATA[<p>国庆假期，闲来无事，用<strong>HTML、C、Java、Python</strong>四种语言画<strong>国旗</strong></p><ul><li><h4 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> col=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"red"</span>,<span class="string">"brown"</span>);</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> ticker=<span class="number">0</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> step=<span class="number">0</span>;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">drawBackground</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> g=<span class="built_in">document</span>.getElementById(<span class="string">"background"</span>).getContext(<span class="string">"2d"</span>);</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> grd=g.createLinearGradient(<span class="number">-560</span>+ticker, <span class="number">0</span>, <span class="number">1400</span>+ticker,<span class="number">0</span>);</span></span><br><span class="line"><span class="javascript"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++)</span></span><br><span class="line"><span class="undefined">grd.addColorStop(i/10,col[(i + step)%col.length]);</span></span><br><span class="line"><span class="undefined">ticker=ticker+10;</span></span><br><span class="line"><span class="javascript"><span class="keyword">if</span> (ticker&gt;=<span class="number">196</span>)&#123;</span></span><br><span class="line"><span class="undefined">ticker=0;</span></span><br><span class="line"><span class="undefined">step++;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">g.fillStyle=grd;</span></span><br><span class="line"><span class="undefined">g.fillRect(0,0,1600,700);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">preperation</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">setInterval(<span class="string">'drawBackground()'</span>,<span class="number">100</span>);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">#myCanvas&#123;</span></span><br><span class="line"><span class="undefined"> z-index:2;</span></span><br><span class="line"><span class="undefined"> position:absolute; left:0px; top:-5px;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">#background&#123;</span></span><br><span class="line"><span class="undefined">z-index:1;</span></span><br><span class="line"><span class="undefined">position:absolute;</span></span><br><span class="line"><span class="undefined">left:0px;</span></span><br><span class="line"><span class="undefined">top:0px;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onLoad</span>=<span class="string">"preperation()"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"myCanvas"</span> <span class="attr">width</span>=<span class="string">"900"</span> <span class="attr">height</span>=<span class="string">"600"</span> &gt;</span></span><br><span class="line">Your browser does not support the HTML5 canvas tag.</span><br><span class="line"><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"background"</span> <span class="attr">width</span>=<span class="string">"1600"</span> <span class="attr">height</span>=<span class="string">"700"</span> &gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> x=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">0</span>,<span class="number">12</span>,<span class="number">54</span>,<span class="number">18</span>,<span class="number">28</span>,<span class="number">0</span>,<span class="number">-28</span>,<span class="number">-18</span>,<span class="number">-54</span>,<span class="number">-12</span>,<span class="number">0</span>);    <span class="comment">//五角星样品坐标xx数组</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> y=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">-53</span>,<span class="number">-17</span>,<span class="number">-17</span>,<span class="number">1</span>,<span class="number">45</span>,<span class="number">19</span>,<span class="number">45</span>,<span class="number">1</span>,<span class="number">-17</span>,<span class="number">-17</span>,<span class="number">-53</span>); <span class="comment">//五角星样品坐标y数组</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> c=<span class="built_in">document</span>.getElementById(<span class="string">"myCanvas"</span>);</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> ctx=c.getContext(<span class="string">"2d"</span>); <span class="comment">//获得画笔</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//样品数组x轴坐标 a , 和y轴坐标 b</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//指定位置[locationX,locationY]</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//真实五角星的大小，与样品五角星尺寸之比 f</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//五角星画完后，旋转的角度 rotation</span></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">star</span>(<span class="params">a,b,locationX,locationY,f,rotation</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">ctx.save();<span class="comment">//记录画图（画笔）的初始环境</span></span></span><br><span class="line"><span class="undefined">ctx.translate(locationX,locationY);</span></span><br><span class="line"><span class="javascript">ctx.rotate(rotation*<span class="built_in">Math</span>.PI/<span class="number">180.0</span>);</span></span><br><span class="line"><span class="undefined">ctx.beginPath();</span></span><br><span class="line"><span class="javascript">ctx.moveTo(<span class="built_in">Math</span>.round(a[<span class="number">0</span>]*f),<span class="built_in">Math</span>.round(b[<span class="number">0</span>]*f));</span></span><br><span class="line"><span class="javascript"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;a.length;i++)</span></span><br><span class="line"><span class="javascript">ctx.lineTo(<span class="built_in">Math</span>.round(a[i]*f),<span class="built_in">Math</span>.round(b[i]*f));</span></span><br><span class="line"><span class="undefined">ctx.closePath();</span></span><br><span class="line"><span class="javascript">ctx.fillStyle=<span class="string">"yellow"</span>;</span></span><br><span class="line"><span class="undefined">ctx.fill();</span></span><br><span class="line"><span class="javascript">ctx.restore();<span class="comment">//还原画图（画笔）的初始环境</span></span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="javascript">star(x,y,<span class="number">165</span>,<span class="number">165</span>,<span class="number">1.4</span>,<span class="number">0</span>);<span class="comment">//画大五角星</span></span></span><br><span class="line"><span class="javascript">star(x,y,<span class="number">301</span>,<span class="number">65</span>,<span class="number">0.5</span>,<span class="number">30</span>);<span class="comment">//画小五角星</span></span></span><br><span class="line"><span class="javascript">star(x,y,<span class="number">362</span>,<span class="number">126</span>,<span class="number">0.5</span>,<span class="number">-30</span>);<span class="comment">//画小五角星</span></span></span><br><span class="line"><span class="javascript">star(x,y,<span class="number">359</span>,<span class="number">216</span>,<span class="number">0.5</span>,<span class="number">0</span>);<span class="comment">//画小五角星</span></span></span><br><span class="line"><span class="javascript">star(x,y,<span class="number">301</span>,<span class="number">273</span>,<span class="number">0.5</span>,<span class="number">30</span>);<span class="comment">//画小五角星</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><a id="more"></a><ul><li><h4 id="C"><a href="#C" class="headerlink" title="C"></a>C</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*  Declare Windows procedure  */</span></span><br><span class="line"><span class="function">LRESULT CALLBACK <span class="title">WindowProcedure</span> <span class="params">(HWND, UINT, WPARAM, LPARAM)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawFiveStarFlag</span><span class="params">(HDC hdc, <span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> w)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawFivePointedStar</span><span class="params">(HDC hdc, <span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> r, <span class="keyword">float</span> d)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Current app instance */</span></span><br><span class="line">HINSTANCE hInst;</span><br><span class="line"><span class="comment">/*  Make the class name into a global variable  */</span></span><br><span class="line">TCHAR szClassName[] = TEXT(<span class="string">"WindowsApp"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> WINAPI</span><br><span class="line">WinMain (HINSTANCE hThisInstance, HINSTANCE hPrevInstance, LPSTR lpszArgument, <span class="keyword">int</span> nFunsterStil)</span><br><span class="line">&#123;</span><br><span class="line">HWND hwnd;   <span class="comment">/* This is the handle for our window */</span></span><br><span class="line">MSG messages;<span class="comment">/* Here messages to the application are saved */</span></span><br><span class="line">WNDCLASSEX wincl;<span class="comment">/* Data structure for the windowclass */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Save this instance */</span></span><br><span class="line">hInst = hThisInstance;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* The Window structure */</span></span><br><span class="line">wincl.hInstance = hThisInstance;</span><br><span class="line">wincl.lpszClassName = szClassName;</span><br><span class="line">wincl.lpfnWndProc = WindowProcedure;  <span class="comment">/* This function is called by windows */</span></span><br><span class="line">wincl.style = CS_DBLCLKS; <span class="comment">/* Catch double-clicks */</span></span><br><span class="line">wincl.cbSize = <span class="keyword">sizeof</span> (WNDCLASSEX);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Use default icon and mouse-pointer */</span></span><br><span class="line">wincl.hIcon = LoadIcon (<span class="literal">NULL</span>, IDI_APPLICATION);</span><br><span class="line">wincl.hIconSm = LoadIcon (<span class="literal">NULL</span>, IDI_APPLICATION);</span><br><span class="line">wincl.hCursor = LoadCursor (<span class="literal">NULL</span>, IDC_ARROW);</span><br><span class="line">wincl.lpszMenuName = <span class="literal">NULL</span>;</span><br><span class="line">wincl.cbClsExtra = <span class="number">0</span>;  <span class="comment">/* No extra bytes after the window class */</span></span><br><span class="line">wincl.cbWndExtra = <span class="number">0</span>;  <span class="comment">/* structure or the window instance */</span></span><br><span class="line"><span class="comment">/* Use Windows's default color as the background of the window */</span></span><br><span class="line">wincl.hbrBackground = (HBRUSH)(COLOR_WINDOW+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Register the window class, and if it fails quit the program */</span></span><br><span class="line"><span class="keyword">if</span> (!RegisterClassEx (&amp;wincl))</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* The class is registered, let's create the program*/</span></span><br><span class="line">hwnd = CreateWindowEx (</span><br><span class="line">   <span class="number">0</span>,   <span class="comment">/* Extended possibilites for variation */</span></span><br><span class="line">   szClassName, <span class="comment">/* Classname */</span></span><br><span class="line">   TEXT(<span class="string">"TestPie"</span>), <span class="comment">/* Title Text */</span></span><br><span class="line">   WS_OVERLAPPEDWINDOW, <span class="comment">/* default window */</span></span><br><span class="line">   CW_USEDEFAULT,   <span class="comment">/* Windows decides the position */</span></span><br><span class="line">   <span class="number">0</span>,   <span class="comment">/* where the window ends up on the screen */</span></span><br><span class="line">   CW_USEDEFAULT,   <span class="comment">/* The programs width */</span></span><br><span class="line">   <span class="number">0</span>, <span class="comment">/* and height in pixels */</span></span><br><span class="line">   HWND_DESKTOP,<span class="comment">/* The window is a child-window to desktop */</span></span><br><span class="line">   <span class="literal">NULL</span>,<span class="comment">/* No menu */</span></span><br><span class="line">   hThisInstance,   <span class="comment">/* Program Instance handler */</span></span><br><span class="line">   <span class="literal">NULL</span> <span class="comment">/* No Window Creation data */</span></span><br><span class="line">   );</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Make the window visible on the screen */</span></span><br><span class="line">ShowWindow (hwnd, nFunsterStil);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Run the message loop. It will run until GetMessage() returns 0 */</span></span><br><span class="line"><span class="keyword">while</span> (GetMessage (&amp;messages, <span class="literal">NULL</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/* Translate virtual-key messages into character messages */</span></span><br><span class="line">TranslateMessage(&amp;messages);</span><br><span class="line"><span class="comment">/* Send message to WindowProcedure */</span></span><br><span class="line">DispatchMessage(&amp;messages);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* The program return-value is 0 - The value that PostQuitMessage() gave */</span></span><br><span class="line"><span class="keyword">return</span> messages.wParam;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*  This function is called by the Windows function DispatchMessage()  */</span></span><br><span class="line"></span><br><span class="line">LRESULT CALLBACK</span><br><span class="line">WindowProcedure (HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam)</span><br><span class="line">&#123;</span><br><span class="line">PAINTSTRUCT ps;</span><br><span class="line">HDC hdc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (message)  <span class="comment">/* handle the messages */</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> WM_PAINT:</span><br><span class="line">hdc = BeginPaint(hwnd, &amp;ps);</span><br><span class="line"><span class="comment">/* <span class="doctag">TODO:</span> Add any drawing code here... */</span></span><br><span class="line">DrawFiveStarFlag(hdc, <span class="number">50</span>, <span class="number">50</span>, <span class="number">300</span>);</span><br><span class="line">EndPaint(hwnd, &amp;ps);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> WM_DESTROY:</span><br><span class="line">PostQuitMessage (<span class="number">0</span>);   <span class="comment">/* send a WM_QUIT to the message queue */</span></span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:  <span class="comment">/* for messages that we don't deal with */</span></span><br><span class="line"><span class="keyword">return</span> DefWindowProc (hwnd, message, wParam, lParam);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 画五角星</span></span><br><span class="line"><span class="comment"> * 参数：hdc画图句柄，xy中心点坐标，r外圆半径，d偏斜角度（逆时针）</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawFivePointedStar</span><span class="params">(HDC hdc, <span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> r, <span class="keyword">float</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">float</span> r0 = <span class="number">0.381966</span>*r;<span class="comment">//内圆半径：r*sin(0.1*M_PI)/sin(0.7*M_PI)</span></span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line">POINT p[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//计算10个顶点的坐标（72度为实心五角星，144为空心五角星） </span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">p[<span class="number">2</span>*i].x = x + r*<span class="built_in">cos</span>((i*<span class="number">72</span><span class="number">-18</span>+d)*M_PI/<span class="number">180</span>);</span><br><span class="line">p[<span class="number">2</span>*i].y = y + r*<span class="built_in">sin</span>((i*<span class="number">72</span><span class="number">-18</span>+d)*M_PI/<span class="number">180</span>);</span><br><span class="line"></span><br><span class="line">p[<span class="number">2</span>*i+<span class="number">1</span>].x = x + r0*<span class="built_in">cos</span>((i*<span class="number">72</span>+<span class="number">18</span>+d)*M_PI/<span class="number">180</span>);</span><br><span class="line">p[<span class="number">2</span>*i+<span class="number">1</span>].y = y + r0*<span class="built_in">sin</span>((i*<span class="number">72</span>+<span class="number">18</span>+d)*M_PI/<span class="number">180</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//画五角星</span></span><br><span class="line">Polygon(hdc, p, <span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 画五星红旗</span></span><br><span class="line"><span class="comment"> * 参数：hdc画图句柄，xy旗左上角坐标，w旗宽</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawFiveStarFlag</span><span class="params">(HDC hdc, <span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">COLORREF RED = RGB(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>), YELLOW = RGB(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);</span><br><span class="line">HPEN hPen1 = CreatePen(PS_SOLID, <span class="number">1</span>, RED), hPen2 = CreatePen(PS_SOLID, <span class="number">1</span>, YELLOW);</span><br><span class="line">HBRUSH hBrush1 = CreateSolidBrush(RED), hBrush2 = CreateSolidBrush(YELLOW);</span><br><span class="line"></span><br><span class="line"><span class="comment">//画旗面</span></span><br><span class="line">SelectObject(hdc, hPen1);</span><br><span class="line">SelectObject(hdc, hBrush1);</span><br><span class="line">Rectangle(hdc, x, y, x+w, y+<span class="number">2</span>*w/<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//画5星 </span></span><br><span class="line">SelectObject(hdc, hPen2);</span><br><span class="line">SelectObject(hdc, hBrush2);</span><br><span class="line">DrawFivePointedStar(hdc, x+w/<span class="number">6</span>,   y+w/<span class="number">6</span>,w/<span class="number">10</span>, <span class="number">0</span>);<span class="comment">//大星</span></span><br><span class="line">DrawFivePointedStar(hdc, x+w/<span class="number">3</span>,   y+w/<span class="number">15</span>,   w/<span class="number">30</span>, <span class="number">18</span>);<span class="comment">//4个小星，倾斜角度都是估的</span></span><br><span class="line">DrawFivePointedStar(hdc, x+<span class="number">2</span>*w/<span class="number">5</span>, y+<span class="number">2</span>*w/<span class="number">15</span>, w/<span class="number">30</span>, <span class="number">45</span>);</span><br><span class="line">DrawFivePointedStar(hdc, x+<span class="number">2</span>*w/<span class="number">5</span>, y+<span class="number">7</span>*w/<span class="number">30</span>, w/<span class="number">30</span>, <span class="number">9</span>);</span><br><span class="line">DrawFivePointedStar(hdc, x+w/<span class="number">3</span>,   y+<span class="number">3</span>*w/<span class="number">10</span>, w/<span class="number">30</span>, <span class="number">27</span>);</span><br><span class="line"></span><br><span class="line">DeleteObject(hPen1);</span><br><span class="line">DeleteObject(hPen2);</span><br><span class="line">DeleteObject(hBrush1);</span><br><span class="line">DeleteObject(hBrush2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h4 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.RenderingHints;</span><br><span class="line"><span class="keyword">import</span> java.awt.geom.AffineTransform;</span><br><span class="line"><span class="keyword">import</span> java.awt.geom.GeneralPath;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> javax.swing.JFrame;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NationalFlag</span> <span class="keyword">extends</span> <span class="title">JFrame</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> width = <span class="number">288</span>,height = width/<span class="number">3</span>*<span class="number">2</span>;  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">double</span> maxR = <span class="number">0.15</span>, minR = <span class="number">0.05</span>;  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">double</span> maxX = <span class="number">0.50</span>, maxY = <span class="number">0.50</span>;  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">double</span>[] minX = &#123;<span class="number">0.75</span>, <span class="number">0.85</span>, <span class="number">0.85</span>, <span class="number">0.75</span>&#125;;  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">double</span>[] minY = &#123;<span class="number">0.35</span>, <span class="number">0.45</span>, <span class="number">0.60</span>, <span class="number">0.70</span>&#125;;  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">NationalFlag</span><span class="params">()</span> </span>&#123;</span><br><span class="line">setTitle(<span class="string">"国旗  - by PotatoChipsNinja"</span>);</span><br><span class="line">setDefaultCloseOperation(EXIT_ON_CLOSE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">paint</span><span class="params">(java.awt.Graphics graphics)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>.paint(graphics);</span><br><span class="line">java.awt.Graphics2D g = (java.awt.Graphics2D)graphics;</span><br><span class="line">g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);</span><br><span class="line"> </span><br><span class="line"><span class="comment">//棋面</span></span><br><span class="line">g.setColor(java.awt.Color.red);</span><br><span class="line">g.fillRect(<span class="number">50</span>, <span class="number">50</span>, width, height);</span><br><span class="line"> </span><br><span class="line">g.setColor(java.awt.Color.yellow);</span><br><span class="line"><span class="comment">//画大星星</span></span><br><span class="line"><span class="keyword">double</span> ox = height*maxX, oy = height*maxY;</span><br><span class="line">g.fill(createPentacle(ox,oy,height*maxR,-Math.PI/<span class="number">2</span>));  </span><br><span class="line"> </span><br><span class="line"><span class="comment">//画小星星</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> idx =<span class="number">0</span>;idx &lt; <span class="number">4</span>;idx ++)&#123;  </span><br><span class="line"><span class="keyword">double</span> sx = minX[idx]*height, sy = minY[idx]*height;  </span><br><span class="line"><span class="keyword">double</span> theta = Math.atan2(oy-sy,ox-sx);  </span><br><span class="line">g.fill(createPentacle(sx,sy,height*minR,theta));  </span><br><span class="line">&#125;  </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建一个五角星形状. 该五角星的中心坐标为(sx,sy),中心到顶点的距离为radius,其中某个顶点与中心的连线的偏移角度为theta(弧度)</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> pentacle 一个☆</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> java.awt.<span class="function">Shape <span class="title">createPentacle</span><span class="params">(<span class="keyword">double</span> sx, <span class="keyword">double</span> sy, <span class="keyword">double</span> radius,<span class="keyword">double</span> theta)</span> </span>&#123;</span><br><span class="line"><span class="keyword">final</span> <span class="keyword">double</span> arc = Math.PI / <span class="number">5</span>;</span><br><span class="line"><span class="keyword">final</span> <span class="keyword">double</span> rad = Math.sin(Math.PI / <span class="number">10</span>) / Math.sin(<span class="number">3</span> * Math.PI / <span class="number">10</span>);</span><br><span class="line">GeneralPath path = <span class="keyword">new</span> GeneralPath();</span><br><span class="line">path.moveTo(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> idx = <span class="number">0</span>; idx &lt; <span class="number">5</span>; idx++) &#123;</span><br><span class="line">path.lineTo(rad * Math.cos((<span class="number">1</span> + <span class="number">2</span> * idx) * arc),rad * Math.sin((<span class="number">1</span> + <span class="number">2</span> * idx) * arc));</span><br><span class="line">path.lineTo(Math.cos(<span class="number">2</span> * (idx + <span class="number">1</span>) * arc),Math.sin(<span class="number">2</span> * (idx + <span class="number">1</span>) * arc));</span><br><span class="line">&#125;</span><br><span class="line">path.closePath();</span><br><span class="line">AffineTransform atf = AffineTransform.getScaleInstance(radius, radius);</span><br><span class="line">atf.translate(sx / radius, sy / radius);</span><br><span class="line">atf.rotate(theta);</span><br><span class="line"><span class="keyword">return</span> atf.createTransformedShape(path);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">NationalFlag flag = <span class="keyword">new</span> NationalFlag();</span><br><span class="line">flag.setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">400</span>, <span class="number">400</span>);</span><br><span class="line">flag.setVisible(<span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h4 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> turtle</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_polygon</span><span class="params">(aTurtle, size=<span class="number">50</span>, n=<span class="number">3</span>)</span>:</span></span><br><span class="line"><span class="string">''' 绘制正多边形</span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">args:</span></span><br><span class="line"><span class="string">aTurtle: turtle对象实例</span></span><br><span class="line"><span class="string">size: int类型，正多边形的边长</span></span><br><span class="line"><span class="string">n: int类型，是几边形</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> xrange(n):</span><br><span class="line">aTurtle.forward(size)</span><br><span class="line">aTurtle.left(<span class="number">360.0</span>/n)</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_n_angle</span><span class="params">(aTurtle, size=<span class="number">50</span>, num=<span class="number">5</span>, color=None)</span>:</span></span><br><span class="line"><span class="string">''' 绘制正n角形，默认为黄色</span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">args:</span></span><br><span class="line"><span class="string">aTurtle: turtle对象实例</span></span><br><span class="line"><span class="string">size: int类型，正多角形的边长</span></span><br><span class="line"><span class="string">n: int类型，是几角形</span></span><br><span class="line"><span class="string">color: str， 图形颜色，默认不填色</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">if</span> color:</span><br><span class="line">aTurtle.begin_fill()</span><br><span class="line">aTurtle.fillcolor(color)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> xrange(num):</span><br><span class="line">aTurtle.forward(size)</span><br><span class="line">aTurtle.left(<span class="number">360.0</span>/num)</span><br><span class="line">aTurtle.forward(size)</span><br><span class="line">aTurtle.right(<span class="number">2</span>*<span class="number">360.0</span>/num)</span><br><span class="line"><span class="keyword">if</span> color:</span><br><span class="line">aTurtle.end_fill()</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_5_angle</span><span class="params">(aTurtle=None, start_pos=<span class="params">(<span class="number">0</span>,<span class="number">0</span>)</span>, end_pos=<span class="params">(<span class="number">0</span>,<span class="number">10</span>)</span>, radius=<span class="number">100</span>, color=None)</span>:</span></span><br><span class="line"><span class="string">''' 根据起始位置、结束位置和外接圆半径画五角星</span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">args:</span></span><br><span class="line"><span class="string">aTurtle: turtle对象实例</span></span><br><span class="line"><span class="string">start_pos: int的二元tuple，要画的五角星的外接圆圆心</span></span><br><span class="line"><span class="string">end_pos: int的二元tuple，圆心指向的位置坐标点</span></span><br><span class="line"><span class="string">radius: 五角星外接圆半径</span></span><br><span class="line"><span class="string">color: str， 图形颜色，默认不填色</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">aTurtle = aTurtle <span class="keyword">or</span> turtle.Turtle()</span><br><span class="line">size = radius * math.sin(math.pi/<span class="number">5</span>)/math.sin(math.pi*<span class="number">2</span>/<span class="number">5</span>)</span><br><span class="line">aTurtle.left(math.degrees(math.atan2(end_pos[<span class="number">1</span>]-start_pos[<span class="number">1</span>], end_pos[<span class="number">0</span>]-start_pos[<span class="number">0</span>])))</span><br><span class="line">aTurtle.penup()</span><br><span class="line">aTurtle.goto(start_pos)</span><br><span class="line">aTurtle.fd(radius)</span><br><span class="line">aTurtle.pendown()</span><br><span class="line">aTurtle.right(math.degrees(math.pi*<span class="number">9</span>/<span class="number">10</span>))</span><br><span class="line">draw_n_angle(aTurtle, size, <span class="number">5</span>, color)</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_5_star_flag</span><span class="params">(times=<span class="number">20.0</span>)</span>:</span></span><br><span class="line"><span class="string">''' 绘制五星红旗</span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">args:</span></span><br><span class="line"><span class="string">times: 五星红旗的规格为30*20， times为倍数，默认大小为10倍， 即300*200</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">width, height = <span class="number">30</span>*times, <span class="number">20</span>*times</span><br><span class="line"><span class="comment"># 初始化屏幕和海龟</span></span><br><span class="line">window = turtle.Screen()</span><br><span class="line">aTurtle = turtle.Turtle()</span><br><span class="line">aTurtle.hideturtle()</span><br><span class="line">aTurtle.speed(<span class="number">10</span>)</span><br><span class="line"><span class="comment"># 画红旗</span></span><br><span class="line">aTurtle.penup()</span><br><span class="line">aTurtle.goto(-width/<span class="number">2</span>, height/<span class="number">2</span>)</span><br><span class="line">aTurtle.pendown()</span><br><span class="line">aTurtle.begin_fill()</span><br><span class="line">aTurtle.fillcolor(<span class="string">'red'</span>)</span><br><span class="line">aTurtle.fd(width)</span><br><span class="line">aTurtle.right(<span class="number">90</span>)</span><br><span class="line">aTurtle.fd(height)</span><br><span class="line">aTurtle.right(<span class="number">90</span>)</span><br><span class="line">aTurtle.fd(width)</span><br><span class="line">aTurtle.right(<span class="number">90</span>)</span><br><span class="line">aTurtle.fd(height)</span><br><span class="line">aTurtle.right(<span class="number">90</span>)</span><br><span class="line">aTurtle.end_fill()</span><br><span class="line"><span class="comment"># 画大星星</span></span><br><span class="line">draw_5_angle(aTurtle, start_pos=(<span class="number">-10</span>*times, <span class="number">5</span>*times), end_pos=(<span class="number">-10</span>*times, <span class="number">8</span>*times), radius=<span class="number">3</span>*times, color=<span class="string">'yellow'</span>)  </span><br><span class="line"><span class="comment"># 画四个小星星</span></span><br><span class="line">stars_start_pos = [(<span class="number">-5</span>, <span class="number">8</span>), (<span class="number">-3</span>, <span class="number">6</span>), (<span class="number">-3</span>, <span class="number">3</span>), (<span class="number">-5</span>, <span class="number">1</span>)]</span><br><span class="line"><span class="keyword">for</span> pos <span class="keyword">in</span> stars_start_pos:</span><br><span class="line">draw_5_angle(aTurtle, start_pos=(pos[<span class="number">0</span>]*times, pos[<span class="number">1</span>]*times), end_pos=(<span class="number">-10</span>*times, <span class="number">5</span>*times), radius=<span class="number">1</span>*times, color=<span class="string">'yellow'</span>)  </span><br><span class="line"><span class="comment"># 点击关闭窗口</span></span><br><span class="line">window.exitonclick()</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">draw_5_star_flag()</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;国庆假期，闲来无事，用&lt;strong&gt;HTML、C、Java、Python&lt;/strong&gt;四种语言画&lt;strong&gt;国旗&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;h4 id=&quot;HTML&quot;&gt;&lt;a href=&quot;#HTML&quot; class=&quot;headerlink&quot; title=&quot;HTML&quot;&gt;&lt;/a&gt;HTML&lt;/h4&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; col=&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;red&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;brown&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ticker=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; step=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;drawBackground&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; g=&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&quot;background&quot;&lt;/span&gt;).getContext(&lt;span class=&quot;string&quot;&gt;&quot;2d&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; grd=g.createLinearGradient(&lt;span class=&quot;number&quot;&gt;-560&lt;/span&gt;+ticker, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1400&lt;/span&gt;+ticker,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i&amp;lt;&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;; i++)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;			grd.addColorStop(i/10,col[(i + step)%col.length]);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;		ticker=ticker+10;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (ticker&amp;gt;=&lt;span class=&quot;number&quot;&gt;196&lt;/span&gt;)&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;			ticker=0;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;			step++;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;		g.fillStyle=grd;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;		g.fillRect(0,0,1600,700);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;preperation&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;		setInterval(&lt;span class=&quot;string&quot;&gt;&#39;drawBackground()&#39;&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/css&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;	#myCanvas&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;	 z-index:2;	&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;	 position:absolute; left:0px; top:-5px;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;	#background&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;		z-index:1;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;		position:absolute;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;		left:0px;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;		top:0px;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;style&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;onLoad&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;preperation()&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;canvas&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;myCanvas&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;900&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;600&quot;&lt;/span&gt; &amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		Your browser does not support the HTML5 canvas tag.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;canvas&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;canvas&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;background&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;1600&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;700&quot;&lt;/span&gt; &amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;canvas&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; x=&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;54&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;18&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;28&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;-28&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;-18&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;-54&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;-12&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);    &lt;span class=&quot;comment&quot;&gt;//五角星样品坐标xx数组&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; y=&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;-53&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;-17&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;-17&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;45&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;19&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;45&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;-17&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;-17&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;-53&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;//五角星样品坐标y数组&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; c=&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&quot;myCanvas&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ctx=c.getContext(&lt;span class=&quot;string&quot;&gt;&quot;2d&quot;&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;//获得画笔&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//样品数组x轴坐标 a , 和y轴坐标 b&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//指定位置[locationX,locationY]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//真实五角星的大小，与样品五角星尺寸之比 f&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//五角星画完后，旋转的角度 rotation&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;star&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;a,b,locationX,locationY,f,rotation&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;		ctx.save();&lt;span class=&quot;comment&quot;&gt;//记录画图（画笔）的初始环境&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;		ctx.translate(locationX,locationY);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;		ctx.rotate(rotation*&lt;span class=&quot;built_in&quot;&gt;Math&lt;/span&gt;.PI/&lt;span class=&quot;number&quot;&gt;180.0&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;		ctx.beginPath();&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;		ctx.moveTo(&lt;span class=&quot;built_in&quot;&gt;Math&lt;/span&gt;.round(a[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]*f),&lt;span class=&quot;built_in&quot;&gt;Math&lt;/span&gt;.round(b[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]*f));&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;i&amp;lt;a.length;i++)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;		ctx.lineTo(&lt;span class=&quot;built_in&quot;&gt;Math&lt;/span&gt;.round(a[i]*f),&lt;span class=&quot;built_in&quot;&gt;Math&lt;/span&gt;.round(b[i]*f));&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;		ctx.closePath();&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;		ctx.fillStyle=&lt;span class=&quot;string&quot;&gt;&quot;yellow&quot;&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;		ctx.fill();&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;		ctx.restore();&lt;span class=&quot;comment&quot;&gt;//还原画图（画笔）的初始环境&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	star(x,y,&lt;span class=&quot;number&quot;&gt;165&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;165&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;1.4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//画大五角星&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	star(x,y,&lt;span class=&quot;number&quot;&gt;301&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;65&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;30&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//画小五角星&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	star(x,y,&lt;span class=&quot;number&quot;&gt;362&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;126&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;-30&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//画小五角星&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	star(x,y,&lt;span class=&quot;number&quot;&gt;359&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;216&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//画小五角星&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;javascript&quot;&gt;	star(x,y,&lt;span class=&quot;number&quot;&gt;301&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;273&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;30&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//画小五角星&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="编程" scheme="https://pcninja.cn/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="C" scheme="https://pcninja.cn/tags/C/"/>
    
      <category term="编程" scheme="https://pcninja.cn/tags/%E7%BC%96%E7%A8%8B/"/>
    
      <category term="HTML" scheme="https://pcninja.cn/tags/HTML/"/>
    
      <category term="Java" scheme="https://pcninja.cn/tags/Java/"/>
    
      <category term="Python" scheme="https://pcninja.cn/tags/Python/"/>
    
      <category term="国旗" scheme="https://pcninja.cn/tags/%E5%9B%BD%E6%97%97/"/>
    
  </entry>
  
  <entry>
    <title>月盈则亏，水满则溢——读《红楼梦》有感</title>
    <link href="https://pcninja.cn/2016/08/sense-of-reading-A-Dream-in-Red-Mansions/"/>
    <id>https://pcninja.cn/2016/08/sense-of-reading-A-Dream-in-Red-Mansions/</id>
    <published>2016-08-27T12:44:31.000Z</published>
    <updated>2017-09-24T00:47:28.000Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;在中国古典四大名著之一《三国演义》中开篇便有这样一句话：“话说天下大势，分久必合，合久必分。”这是指人或事物变化无常，分合无定。此句也用来表示人物或事情的发展分分合合拥有一定的必然性，是事物发展的规律和必然注定。我想这也是同为四大名著之一——《红楼梦》的作者想要告诉我们的。<br>&emsp;&emsp;《红楼梦》全文都是围绕贾、史、王、薛四大家族的兴衰展开的。比如最后贾府的衰败，表面看上去是多种因素共同导致的：首先，贾府在当时的社会赫赫有名、盛极一时，必然会树敌众多，遭人嫉妒，有很大隐患；此外，长辈们对后代的教育不得力，使得子孙游手好闲，不思进取；其次，他们当时嚣张、专横、跋扈的作风得罪了不少人，也与权臣结怨；最后，也是最重要的是当时封建家族为利益联姻，大家运命相连，一荣皆荣，一损俱损，因此薛、王、史三家的衰落直接导致了贾府的崩盘。<br>&emsp;&emsp;但是，列出这些所有的原因，可以全部归结于一个道理：盛极必衰。<br>&emsp;&emsp;在现代汉语中，有很多表达类似盛极必衰这样的思想的词语，比如：物极必反、乐极生悲等等。早在春秋时期，儒家学派就已经意识到这个问题了，因此儒家推崇中庸思想。而《红楼梦》中这四大家族却都忽视了这个问题，这些封建贵族为了权势与钱财，不惜一切。表面温情脉脉，实际充满了勾心斗角和种种激烈的矛盾和斗争。他们这样做，只能换取一时的繁盛，换不来一世的安宁。<br>&emsp;&emsp;《红楼梦》中最深刻的哲学思想，不是正义与邪恶的较量，也不是欲与理的纠缠，而是月盈则亏，水满则溢。在小说第一回中就有“瞬息间则又乐极悲生，人非物换，究竟是到头一梦，万境归空”，曹雪芹暗示了运势会因时间而轮回的道理。<br>&emsp;&emsp;这个道理在我们的日常生活中同样适用。我们都有过这样的经历：有时越想办成一件事就越难成功，反而会在不经意间“无心插柳柳成荫”。在没有头绪的时候，与其绞尽脑汁，倒不如放轻松，休息片刻也许能够剑走偏锋、出奇制胜。无论如何，都不要采取极端的手段，否则就像四大家族那样，即便取得了短暂的成功，也不可能是长久之计。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&amp;emsp;&amp;emsp;在中国古典四大名著之一《三国演义》中开篇便有这样一句话：“话说天下大势，分久必合，合久必分。”这是指人或事物变化无常，分合无定。此句也用来表示人物或事情的发展分分合合拥有一定的必然性，是事物发展的规律和必然注定。我想这也是同为四大名著之一——《红楼梦
      
    
    </summary>
    
      <category term="文学" scheme="https://pcninja.cn/categories/%E6%96%87%E5%AD%A6/"/>
    
    
      <category term="写作" scheme="https://pcninja.cn/tags/%E5%86%99%E4%BD%9C/"/>
    
      <category term="评析" scheme="https://pcninja.cn/tags/%E8%AF%84%E6%9E%90/"/>
    
      <category term="读后感" scheme="https://pcninja.cn/tags/%E8%AF%BB%E5%90%8E%E6%84%9F/"/>
    
      <category term="红楼梦" scheme="https://pcninja.cn/tags/%E7%BA%A2%E6%A5%BC%E6%A2%A6/"/>
    
  </entry>
  
</feed>
